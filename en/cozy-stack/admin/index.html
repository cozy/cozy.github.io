



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Cozy documentation">
      
      
        <link rel="canonical" href="https://docs.cozy.io/cozy-stack/admin/">
      
      
        <meta name="author" content="CozyCloud - https://cozy.io">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[^a-zа-яё0-9\-\.]">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-4.4.0">
    
    
      
        <title>Using the admin API - Cozy Developer Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    <script type="text/javascript">
        // Used in extra.js, we have to define the variable here since
        // we need access to the "config" jinja variable
        window.outsideDocs = [{"name": "cozy-app-publish", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/cozy-app-publish"}, {"name": "cozy-apps-registry", "repo": "https://github.com/cozy/cozy-apps-registry.git", "subdir": "."}, {"name": "cozy-client", "repo": "https://github.com/cozy/cozy-client.git", "subdir": "docs"}, {"name": "cozy-ui", "repo": "https://github.com/cozy/cozy-ui.git", "subdir": "docs"}, {"name": "cozy-doctypes", "repo": "https://github.com/cozy/cozy-doctypes.git", "subdir": "."}, {"name": "cozy-konnector-libs", "repo": "https://github.com/konnectors/libs.git", "subdir": "packages/cozy-konnector-libs/docs"}, {"name": "cozy-scripts", "repo": "https://github.com/cozy/create-cozy-app.git", "subdir": "packages/cozy-scripts/docs"}, {"name": "cozy-stack", "repo": "https://github.com/cozy/cozy-stack.git", "subdir": "docs"}, {"name": "cozy-desktop", "repo": "https://github.com/cozy-labs/cozy-desktop.git", "subdir": "doc"}, {"name": "babel-preset-cozy-app", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/babel-preset-cozy-app"}, {"name": "commitlint-config-cozy", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/commitlint-config-cozy"}, {"name": "cozy-device-helper", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/cozy-device-helper"}, {"name": "eslint-config-cozy-app", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/eslint-config-cozy-app"}, {"name": "cozy-notifications", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/cozy-notifications"}, {"name": "cozy-flags", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/cozy-flags"}, {"name": "cozy-realtime", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/cozy-realtime"}, {"name": "cozy-banks", "repo": "https://github.com/cozy/cozy-banks.git", "subdir": "."}, {"name": "cozy-home", "repo": "https://github.com/cozy/cozy-home.git", "subdir": "."}, {"name": "ach", "repo": "https://github.com/cozy/ach.git", "subdir": "."}]
    </script>

    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700|Ubuntu+Mono&display=fallback">
        <style>body,input{font-family:"Lato","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#admin" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.cozy.io/" title="Cozy Developer Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon">cloud</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Cozy Developer Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Using the admin API
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/cozy/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." title="Home" class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../tutorials/app/" title="Tutorials" class="md-tabs__link">
          Tutorials
        </a>
      
    </li>
  

      
        
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../../howTos/dev/runCozyDocker/" title="How-to" class="md-tabs__link">
          How-to
        </a>
      
    </li>
  

  

      
        
  
  
    
    
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../../cozy-client/getting-started/" title="Libraries" class="md-tabs__link">
          Libraries
        </a>
      
    </li>
  

  

  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../projects/" title="Projects" class="md-tabs__link">
          Projects
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.cozy.io/" title="Cozy Developer Documentation" class="md-nav__button md-logo">
      
        <i class="md-icon">cloud</i>
      
    </a>
    Cozy Developer Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/cozy/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/app/" title="Create Your Application" class="md-nav__link">
      Create Your Application
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Develop a Connector
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        Develop a Connector
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/konnector/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/konnector/getting-started/" title="Basic structure" class="md-nav__link">
      Basic structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/konnector/scrape-data/" title="Scrape data" class="md-nav__link">
      Scrape data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/konnector/save-data/" title="Save data" class="md-nav__link">
      Save data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/konnector/packaging/" title="Package your connector" class="md-nav__link">
      Package your connector
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3">
      Develop a Client-Side Connector
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        Develop a Client-Side Connector
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/client-side-konnector/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/client-side-konnector/installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/client-side-konnector/clisk-creation/" title="CliSK Creation" class="md-nav__link">
      CliSK Creation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/client-side-konnector/clisk-lib-doc/" title="Library Documentation" class="md-nav__link">
      Library Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/client-side-konnector/troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/client-side-konnector/best-practice/" title="Best Practice" class="md-nav__link">
      Best Practice
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/client-side-konnector/contributions/" title="Contributions" class="md-nav__link">
      Contributions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/client-side-konnector/community/" title="Community" class="md-nav__link">
      Community
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/client-side-konnector/additional-ressources/" title="Additional Ressources" class="md-nav__link">
      Additional Ressources
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      Manipulate data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        Manipulate data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/data/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/data/queries/" title="Queries" class="md-nav__link">
      Queries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/data/pouchdb/" title="PouchDB" class="md-nav__link">
      PouchDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/data/doctypes/" title="DocTypes" class="md-nav__link">
      DocTypes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/data/qualification/" title="Qualification" class="md-nav__link">
      Qualification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/data/advanced/" title="Advanced" class="md-nav__link">
      Advanced
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/translate/" title="Translate Apps" class="md-nav__link">
      Translate Apps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6">
    
    <label class="md-nav__link" for="nav-2-6">
      Self-Hosting
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        Self-Hosting
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/docker/" title="Running inside Docker" class="md-nav__link">
      Running inside Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-6-3" type="checkbox" id="nav-2-6-3">
    
    <label class="md-nav__link" for="nav-2-6-3">
      Traditional installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-2-6-3">
        Traditional installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-6-3-1" type="checkbox" id="nav-2-6-3-1">
    
    <label class="md-nav__link" for="nav-2-6-3-1">
      Requirements
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-2-6-3-1">
        Requirements
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/requirements/" title="What you need" class="md-nav__link">
      What you need
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/requirements/couchdb/" title="Installing CouchDB" class="md-nav__link">
      Installing CouchDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/requirements/nodejs/" title="Installing NodeJS" class="md-nav__link">
      Installing NodeJS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-6-3-2" type="checkbox" id="nav-2-6-3-2">
    
    <label class="md-nav__link" for="nav-2-6-3-2">
      Installing cozy-stack
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-2-6-3-2">
        Installing cozy-stack
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/install/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/install/package/" title="From precompiled package" class="md-nav__link">
      From precompiled package
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/install/sources/" title="From sources" class="md-nav__link">
      From sources
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-6-3-3" type="checkbox" id="nav-2-6-3-3">
    
    <label class="md-nav__link" for="nav-2-6-3-3">
      Finalize installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-2-6-3-3">
        Finalize installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/finalize/nginx/" title="Nginx and certificates" class="md-nav__link">
      Nginx and certificates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/finalize/apache/" title="Using Apache instead of Nginx" class="md-nav__link">
      Using Apache instead of Nginx
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/finalize/create_instance/" title="Create first instance" class="md-nav__link">
      Create first instance
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-6-3-4" type="checkbox" id="nav-2-6-3-4">
    
    <label class="md-nav__link" for="nav-2-6-3-4">
      Administration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-2-6-3-4">
        Administration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/administration/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/administration/more_instances/" title="Create more instances" class="md-nav__link">
      Create more instances
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/administration/upgrade/" title="Upgrade cozy-stack" class="md-nav__link">
      Upgrade cozy-stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/administration/mail/" title="Configure mail sending" class="md-nav__link">
      Configure mail sending
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/selfhosting/administration/office/" title="Online edition of office documents" class="md-nav__link">
      Online edition of office documents
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      How-to
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        How-to
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      Dev
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        Dev
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../howTos/dev/runCozyDocker/" title="Run an App in a Cozy using Docker" class="md-nav__link">
      Run an App in a Cozy using Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../howTos/dev/services/" title="Develop a service from your application" class="md-nav__link">
      Develop a service from your application
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../howTos/dev/hmr/" title="Use Hot Module Replacement in Your App" class="md-nav__link">
      Use Hot Module Replacement in Your App
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../howTos/dev/cordova/" title="Make a Mobile App Using Cordova" class="md-nav__link">
      Make a Mobile App Using Cordova
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../howTos/dev/connect-mobile-app-local-stack/" title="Connect a Mobile App to Your Local Stack" class="md-nav__link">
      Connect a Mobile App to Your Local Stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../howTos/dev/run-connectors-on-local-cozy-stack/" title="Run Connectors With a Local cozy-stack" class="md-nav__link">
      Run Connectors With a Local cozy-stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../howTos/dev/sendmail/" title="Send and Receive E-mails in Development" class="md-nav__link">
      Send and Receive E-mails in Development
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/git-flow/" title="Our Front-End Git Flow" class="md-nav__link">
      Our Front-End Git Flow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../references/tech-intro/" title="Technical introduction to the Cozy platform" class="md-nav__link">
      Technical introduction to the Cozy platform
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Synchronize
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Synchronize
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../howTos/sync/linux/" title="Install Cozy Drive on GNU/Linux" class="md-nav__link">
      Install Cozy Drive on GNU/Linux
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Libraries
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Libraries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1">
    
    <label class="md-nav__link" for="nav-4-1">
      Develop an application
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-1">
        Develop an application
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1-1" type="checkbox" id="nav-4-1-1">
    
    <label class="md-nav__link" for="nav-4-1-1">
      Access data (client)
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-1-1">
        Access data (client)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-client/getting-started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-client/relationships/" title="Using relationships" class="md-nav__link">
      Using relationships
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-client/timeseries/" title="Using time series" class="md-nav__link">
      Using time series
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-client/react-integration/" title="React integration" class="md-nav__link">
      React integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-client/hooks/" title="Hooks" class="md-nav__link">
      Hooks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-client/metadata/" title="Metadata" class="md-nav__link">
      Metadata
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-client/logging/" title="Logging" class="md-nav__link">
      Logging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-client/node/" title="Node" class="md-nav__link">
      Node
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-client/architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-client/api/cozy-client/" title="Cozy Client API" class="md-nav__link">
      Cozy Client API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-client/api/cozy-pouch-link.md" title="Cozy Pouch Link API" class="md-nav__link">
      Cozy Pouch Link API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-client/api/cozy-stack-client/" title="Cozy Stack Client API" class="md-nav__link">
      Cozy Stack Client API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-ui/" title="Build the user interface (ui)" class="md-nav__link">
      Build the user interface (ui)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1-3" type="checkbox" id="nav-4-1-3">
    
    <label class="md-nav__link" for="nav-4-1-3">
      Define data (doctypes)
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-1-3">
        Define data (doctypes)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.accounts/" title="Accounts" class="md-nav__link">
      Accounts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.ai.chat.conversations/" title="AI" class="md-nav__link">
      AI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.apps/" title="Apps" class="md-nav__link">
      Apps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.apps.suggestions/" title="App suggestions" class="md-nav__link">
      App suggestions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.bank/" title="Banking doctypes" class="md-nav__link">
      Banking doctypes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.bills/" title="Bills" class="md-nav__link">
      Bills
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.calendar/" title="Calendar" class="md-nav__link">
      Calendar
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.konnectors/" title="Connectors" class="md-nav__link">
      Connectors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.coachco2/" title="CoachCO2" class="md-nav__link">
      CoachCO2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.contacts/" title="Contacts" class="md-nav__link">
      Contacts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.docrules/" title="DocRules" class="md-nav__link">
      DocRules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.files/" title="Files" class="md-nav__link">
      Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.files_metadata/" title="Files metadata" class="md-nav__link">
      Files metadata
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.home.settings/" title="Home settings" class="md-nav__link">
      Home settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.identities/" title="Identities" class="md-nav__link">
      Identities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.notes/" title="Notes" class="md-nav__link">
      Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.notifications/" title="Notifications" class="md-nav__link">
      Notifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.permissions/" title="Permissions" class="md-nav__link">
      Permissions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.photos/" title="Photos" class="md-nav__link">
      Photos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.procedures/" title="Procedures" class="md-nav__link">
      Procedures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.sessions.logins/" title="Sessions Logins" class="md-nav__link">
      Sessions Logins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.settings/" title="Settings" class="md-nav__link">
      Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.sharings/" title="Sharings" class="md-nav__link">
      Sharings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.tags/" title="Tags" class="md-nav__link">
      Tags
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.timeseries/" title="Time series" class="md-nav__link">
      Time series
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.todos/" title="Todos" class="md-nav__link">
      Todos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.account_types/" title="Accounts Types" class="md-nav__link">
      Accounts Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/cc.cozycloud.autocategorization/" title="Autocategorization" class="md-nav__link">
      Autocategorization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.exports/" title="Exports" class="md-nav__link">
      Exports
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.jobs/" title="Jobs" class="md-nav__link">
      Jobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.oauth.clients/" title="OAuth Clients" class="md-nav__link">
      OAuth Clients
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.oauth.access_codes/" title="OAuth Access Codes" class="md-nav__link">
      OAuth Access Codes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.triggers/" title="Triggers" class="md-nav__link">
      Triggers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.triggers.state/" title="Triggers state" class="md-nav__link">
      Triggers state
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.remote.nextcloud.files/" title="Remote NextCloud files" class="md-nav__link">
      Remote NextCloud files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.remote.requests/" title="Remote requests" class="md-nav__link">
      Remote requests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.sessions/" title="Sessions" class="md-nav__link">
      Sessions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.shared/" title="Shared" class="md-nav__link">
      Shared
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/io.cozy.terms/" title="Terms" class="md-nav__link">
      Terms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/com.bitwarden.ciphers/" title="Bitwarden ciphers" class="md-nav__link">
      Bitwarden ciphers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/com.bitwarden.folders/" title="Bitwarden folders" class="md-nav__link">
      Bitwarden folders
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/com.bitwarden.organizations/" title="Bitwarden organizations" class="md-nav__link">
      Bitwarden organizations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/com.bitwarden.contacts/" title="Bitwarden contacts" class="md-nav__link">
      Bitwarden contacts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/com.unibet.bets/" title="Bets Unibet" class="md-nav__link">
      Bets Unibet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-doctypes/docs/cc.cozycloud.announcements/" title="Announcements" class="md-nav__link">
      Announcements
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-realtime/" title="Realtime data (realtime)" class="md-nav__link">
      Realtime data (realtime)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-device-helper/" title="Native devices (device-helper)" class="md-nav__link">
      Native devices (device-helper)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Develop a konnector
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Develop a konnector
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-konnector-libs/" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-konnector-libs/api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-konnector-libs/cli/" title="CLI" class="md-nav__link">
      CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-konnector-libs/dev/" title="Develop" class="md-nav__link">
      Develop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-konnector-libs/errors/" title="Errors" class="md-nav__link">
      Errors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-konnector-libs/operation-linking/" title="Operation linking" class="md-nav__link">
      Operation linking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-konnector-libs/synchronization/" title="Synchronization" class="md-nav__link">
      Synchronization
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-app-publish/" title="Publish on the store (app-publish)" class="md-nav__link">
      Publish on the store (app-publish)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-notifications/" title="Send notifications (cozy-notifications)" class="md-nav__link">
      Send notifications (cozy-notifications)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5">
    
    <label class="md-nav__link" for="nav-4-5">
      Dev tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        Dev tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../babel-preset-cozy-app/" title="Babel preset" class="md-nav__link">
      Babel preset
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../commitlint-config-cozy/" title="Commitlint" class="md-nav__link">
      Commitlint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../eslint-config-cozy-app/" title="ESLint" class="md-nav__link">
      ESLint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ach/" title="ACH" class="md-nav__link">
      ACH
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6" type="checkbox" id="nav-4-6" checked>
    
    <label class="md-nav__link" for="nav-4-6">
      Advanced
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-6">
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6-1" type="checkbox" id="nav-4-6-1" checked>
    
    <label class="md-nav__link" for="nav-4-6-1">
      Stack server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-6-1">
        Stack server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6-1-2" type="checkbox" id="nav-4-6-1-2" checked>
    
    <label class="md-nav__link" for="nav-4-6-1-2">
      Usage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-6-1-2">
        Usage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../INSTALL/" title="Install the cozy-stack" class="md-nav__link">
      Install the cozy-stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config/" title="Configuration file" class="md-nav__link">
      Configuration file
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../instance/" title="Managing Instances" class="md-nav__link">
      Managing Instances
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cli/cozy-stack/" title="Manpages of the command-line tool" class="md-nav__link">
      Manpages of the command-line tool
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Using the admin API
      </label>
    
    <a href="./" title="Using the admin API" class="md-nav__link md-nav__link--active">
      Using the admin API
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instance" title="Instance" class="md-nav__link">
    Instance
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-instances" title="GET /instances" class="md-nav__link">
    GET /instances
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-instancescount" title="GET /instances/count" class="md-nav__link">
    GET /instances/count
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_1" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_1" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-instancesdomainlast-activity" title="GET /instances/:domain/last-activity" class="md-nav__link">
    GET /instances/:domain/last-activity
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_2" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_2" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#patch-instancesdomain" title="PATCH /instances/:domain" class="md-nav__link">
    PATCH /instances/:domain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_3" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_3" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-instanceswith-app-versionslugversion" title="GET /instances/with-app-version/:slug/:version" class="md-nav__link">
    GET /instances/with-app-version/:slug/:version
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_4" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_4" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainmagic_link" title="POST /instances/:domain/magic_link" class="md-nav__link">
    POST /instances/:domain/magic_link
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_5" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_5" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainsession_code" title="POST /instances/:domain/session_code" class="md-nav__link">
    POST /instances/:domain/session_code
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_6" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_6" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainsession_codecheck" title="POST /instances/:domain/session_code/check" class="md-nav__link">
    POST /instances/:domain/session_code/check
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_7" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_7" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainemail_verified_code" title="POST /instances/:domain/email_verified_code" class="md-nav__link">
    POST /instances/:domain/email_verified_code
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_8" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_8" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-instancesdomainsessions" title="DELETE /instances/:domain/sessions" class="md-nav__link">
    DELETE /instances/:domain/sessions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_9" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_9" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainfixerscontent-mismatch" title="POST /instances/:domain/fixers/content-mismatch" class="md-nav__link">
    POST /instances/:domain/fixers/content-mismatch
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_10" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_10" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainfixerspassword-defined" title="POST /instances/:domain/fixers/password-defined" class="md-nav__link">
    POST /instances/:domain/fixers/password-defined
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_11" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainfixersorphan-account" title="POST /instances/:domain/fixers/orphan-account" class="md-nav__link">
    POST /instances/:domain/fixers/orphan-account
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_12" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainexport" title="POST /instances/:domain/export" class="md-nav__link">
    POST /instances/:domain/export
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query-string" title="Query-String" class="md-nav__link">
    Query-String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request_13" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_11" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-instancesdomainexportsexport-iddata" title="GET /instances/:domain/exports/:export-id/data" class="md-nav__link">
    GET /instances/:domain/exports/:export-id/data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query-string_1" title="Query-String" class="md-nav__link">
    Query-String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request_14" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_12" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainnotifications" title="POST /instances/:domain/notifications" class="md-nav__link">
    POST /instances/:domain/notifications
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#response_13" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contexts" title="Contexts" class="md-nav__link">
    Contexts
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-instancescontexts" title="GET /instances/contexts" class="md-nav__link">
    GET /instances/contexts
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_15" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_14" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-instancescontextsname" title="GET /instances/contexts/:name" class="md-nav__link">
    GET /instances/contexts/:name
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_16" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_15" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checkers" title="Checkers" class="md-nav__link">
    Checkers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-instancesdomainfsck" title="GET /instances/:domain/fsck" class="md-nav__link">
    GET /instances/:domain/fsck
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_17" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_16" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomaincheckstriggers" title="POST /instances/:domain/checks/triggers" class="md-nav__link">
    POST /instances/:domain/checks/triggers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_18" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_17" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainchecksshared" title="POST /instances/:domain/checks/shared" class="md-nav__link">
    POST /instances/:domain/checks/shared
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_19" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_18" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomaincheckssharings" title="POST /instances/:domain/checks/sharings" class="md-nav__link">
    POST /instances/:domain/checks/sharings
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#possible-error-types" title="Possible error types" class="md-nav__link">
    Possible error types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#invalid_rules" title="invalid_rules" class="md-nav__link">
    invalid_rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sharing_in_sharing" title="sharing_in_sharing" class="md-nav__link">
    sharing_in_sharing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#missing_matching_docs_for_owner" title="missing_matching_docs_for_owner" class="md-nav__link">
    missing_matching_docs_for_owner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#missing_sharing_for_member" title="missing_sharing_for_member" class="md-nav__link">
    missing_sharing_for_member
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#missing_files_rule_for_member" title="missing_files_rule_for_member" class="md-nav__link">
    missing_files_rule_for_member
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#missing_matching_docs_for_member" title="missing_matching_docs_for_member" class="md-nav__link">
    missing_matching_docs_for_member
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disk_quota_exceeded" title="disk_quota_exceeded" class="md-nav__link">
    disk_quota_exceeded
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read_only_member" title="read_only_member" class="md-nav__link">
    read_only_member
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalid_doc_rev" title="invalid_doc_rev" class="md-nav__link">
    invalid_doc_rev
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalid_doc_name" title="invalid_doc_name" class="md-nav__link">
    invalid_doc_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalid_doc_checksum" title="invalid_doc_checksum" class="md-nav__link">
    invalid_doc_checksum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalid_doc_parent" title="invalid_doc_parent" class="md-nav__link">
    invalid_doc_parent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#missing_matching_doc_for_owner" title="missing_matching_doc_for_owner" class="md-nav__link">
    missing_matching_doc_for_owner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#missing_matching_doc_for_member" title="missing_matching_doc_for_member" class="md-nav__link">
    missing_matching_doc_for_member
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request_20" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_19" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#konnectors" title="Konnectors" class="md-nav__link">
    Konnectors
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-konnectorsmaintenance" title="GET /konnectors/maintenance" class="md-nav__link">
    GET /konnectors/maintenance
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_21" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_20" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put-konnectorsmaintenanceslug" title="PUT /konnectors/maintenance/:slug" class="md-nav__link">
    PUT /konnectors/maintenance/:slug
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_22" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_21" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-konnectorsmaintenanceslug" title="DELETE /konnectors/maintenance/:slug" class="md-nav__link">
    DELETE /konnectors/maintenance/:slug
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_23" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_22" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oidc" title="OIDC" class="md-nav__link">
    OIDC
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#post-oidccontextprovidercode" title="POST /oidc/:context/:provider/code" class="md-nav__link">
    POST /oidc/:context/:provider/code
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oauth-clients" title="OAuth clients" class="md-nav__link">
    OAuth clients
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delete-oauthdomainclients" title="DELETE /oauth/:domain/clients" class="md-nav__link">
    DELETE /oauth/:domain/clients
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_24" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_23" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#swift" title="Swift" class="md-nav__link">
    Swift
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-swiftlayouts" title="GET /swift/layouts" class="md-nav__link">
    GET /swift/layouts
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_25" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_24" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request_26" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_25" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-swiftvfsobject" title="GET /swift/vfs/:object" class="md-nav__link">
    GET /swift/vfs/:object
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_27" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_26" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put-swiftvfsobject" title="PUT /swift/vfs/:object" class="md-nav__link">
    PUT /swift/vfs/:object
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_28" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-swiftvfsobject" title="DELETE /swift/vfs/:object" class="md-nav__link">
    DELETE /swift/vfs/:object
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_29" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-swiftvfs" title="GET /swift/vfs" class="md-nav__link">
    GET /swift/vfs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_30" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_27" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tools" title="Tools" class="md-nav__link">
    Tools
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-toolspprofheap" title="GET /tools/pprof/heap" class="md-nav__link">
    GET /tools/pprof/heap
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_31" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_28" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../important-changes/" title="Important changes" class="md-nav__link">
      Important changes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6-1-3" type="checkbox" id="nav-4-6-1-3">
    
    <label class="md-nav__link" for="nav-4-6-1-3">
      How-to guides for developpers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-6-1-3">
        How-to guides for developpers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../http-api/" title="Using the HTTP API" class="md-nav__link">
      Using the HTTP API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../client-app-dev/" title="Develop a client-side app" class="md-nav__link">
      Develop a client-side app
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../docker/" title="Running and building Docker images" class="md-nav__link">
      Running and building Docker images
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../konnectors-dev/" title="Running a konnector locally" class="md-nav__link">
      Running a konnector locally
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../doctype/" title="Adding a new doctype" class="md-nav__link">
      Adding a new doctype
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../assets/" title="Working with the stack assets" class="md-nav__link">
      Working with the stack assets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../release/" title="Build a release" class="md-nav__link">
      Build a release
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../CONTRIBUTING/" title="The contributing guide" class="md-nav__link">
      The contributing guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6-1-4" type="checkbox" id="nav-4-6-1-4">
    
    <label class="md-nav__link" for="nav-4-6-1-4">
      Explanations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-6-1-4">
        Explanations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../flagship/" title="Flagship app" class="md-nav__link">
      Flagship app
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../move-design/" title="Move design" class="md-nav__link">
      Move design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../realtime-internals/" title="Realtime internals" class="md-nav__link">
      Realtime internals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sharing-design/" title="Sharing design" class="md-nav__link">
      Sharing design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../konnectors-workflow/" title="Workflow of the konnectors" class="md-nav__link">
      Workflow of the konnectors
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6-1-5" type="checkbox" id="nav-4-6-1-5">
    
    <label class="md-nav__link" for="nav-4-6-1-5">
      List of services
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-6-1-5">
        List of services
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ai/" title="/ai - AI" class="md-nav__link">
      /ai - AI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../auth/" title="/auth - Authentication & OAuth" class="md-nav__link">
      /auth - Authentication & OAuth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../delegated-auth/" title="/oidc - Delegated authentication" class="md-nav__link">
       /oidc - Delegated authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../apps/" title="/apps - Applications Management" class="md-nav__link">
      /apps - Applications Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../registry/" title="/apps - Apps registry" class="md-nav__link">
       /apps - Apps registry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../bitwarden/" title="/bitwarden - Bitwarden" class="md-nav__link">
      /bitwarden - Bitwarden
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../connection-check/" title="/connection_check - Connection check" class="md-nav__link">
      /connection_check - Connection check
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../contacts/" title="/contacts - Contacts" class="md-nav__link">
      /contacts - Contacts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../data-system/" title="/data - Data System" class="md-nav__link">
      /data - Data System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mango/" title="/data - Mango" class="md-nav__link">
       /data - Mango
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../couchdb-quirks/" title="/data - CouchDB Quirks" class="md-nav__link">
       /data - CouchDB Quirks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pouchdb-quirks/" title="/data - PouchDB Quirks" class="md-nav__link">
       /data - PouchDB Quirks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../files/" title="/files - Virtual File System" class="md-nav__link">
      /files - Virtual File System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../not-synchronized-vfs/" title="/files - Not synchronized directories" class="md-nav__link">
       /files - Not synchronized directories
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../references-docs-in-vfs/" title="/files - References of documents in VFS" class="md-nav__link">
       /files - References of documents in VFS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../intents/" title="/intents - Intents" class="md-nav__link">
      /intents - Intents
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jobs/" title="/jobs - Jobs" class="md-nav__link">
      /jobs - Jobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../workers/" title="/jobs - Workers" class="md-nav__link">
       /jobs - Workers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../konnectors/" title="/konnectors - Konnectors" class="md-nav__link">
      /konnectors - Konnectors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../move/" title="/move - Move, export and import an instance" class="md-nav__link">
      /move - Move, export and import an instance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../notes/" title="/notes - Notes for collaborative edition" class="md-nav__link">
      /notes - Notes for collaborative edition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../notifications/" title="/notifications - Notifications" class="md-nav__link">
      /notifications - Notifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../office/" title="/office - Collaborative edition of Office documents" class="md-nav__link">
      /office - Collaborative edition of Office documents
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../public/" title="/public - Public" class="md-nav__link">
      /public - Public
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../permissions/" title="/permissions - Permissions" class="md-nav__link">
      /permissions - Permissions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../realtime/" title="/realtime - Realtime" class="md-nav__link">
      /realtime - Realtime
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../remote/" title="/remote - Proxy for remote data/API" class="md-nav__link">
      /remote - Proxy for remote data/API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nextcloud/" title="/remote/nextcloud - NextCloud" class="md-nav__link">
       /remote/nextcloud - NextCloud
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../settings/" title="/settings - Settings" class="md-nav__link">
      /settings - Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-action-required/" title="/settings - Terms of Services" class="md-nav__link">
       /settings - Terms of Services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sharing/" title="/sharings - Sharing" class="md-nav__link">
      /sharings - Sharing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../shortcuts/" title="/shortcuts - Shortcuts" class="md-nav__link">
      /shortcuts - Shortcuts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../wellknown/" title="/.well-known - Well-known" class="md-nav__link">
      /.well-known - Well-known
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-apps-registry/" title="Registry server" class="md-nav__link">
      Registry server
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Projects
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Projects
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../projects/" title="Documentations" class="md-nav__link">
      Documentations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      Cozy Desktop
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        Cozy Desktop
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2-2" type="checkbox" id="nav-5-2-2">
    
    <label class="md-nav__link" for="nav-5-2-2">
      Usage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-5-2-2">
        Usage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/usage/build/" title="Build" class="md-nav__link">
      Build
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/usage/cli/" title="CLI" class="md-nav__link">
      CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/usage/file_systems/" title="Filesystems" class="md-nav__link">
      Filesystems
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/usage/ignore_files/" title="Ignore files" class="md-nav__link">
      Ignore files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/usage/inotify/" title="inotify" class="md-nav__link">
      inotify
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/usage/limitations/" title="Limitations" class="md-nav__link">
      Limitations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/usage/linux/" title="Linux" class="md-nav__link">
      Linux
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/usage/macos/" title="MacOS" class="md-nav__link">
      MacOS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/usage/windows/" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2-3" type="checkbox" id="nav-5-2-3">
    
    <label class="md-nav__link" for="nav-5-2-3">
      Developer
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-5-2-3">
        Developer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/developer/api_doc/" title="API Documentation" class="md-nav__link">
      API Documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/developer/coffeescript.md" title="Cofeescript" class="md-nav__link">
      Cofeescript
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/developer/debug/" title="Debug" class="md-nav__link">
      Debug
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/developer/log_analysis/" title="Log analysis" class="md-nav__link">
      Log analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/developer/requirements/" title="Requirements" class="md-nav__link">
      Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/developer/setup/" title="Setup" class="md-nav__link">
      Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/developer/setup/" title="Test" class="md-nav__link">
      Test
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cozy-desktop/feedback/" title="Feddback" class="md-nav__link">
      Feddback
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instance" title="Instance" class="md-nav__link">
    Instance
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-instances" title="GET /instances" class="md-nav__link">
    GET /instances
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-instancescount" title="GET /instances/count" class="md-nav__link">
    GET /instances/count
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_1" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_1" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-instancesdomainlast-activity" title="GET /instances/:domain/last-activity" class="md-nav__link">
    GET /instances/:domain/last-activity
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_2" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_2" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#patch-instancesdomain" title="PATCH /instances/:domain" class="md-nav__link">
    PATCH /instances/:domain
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_3" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_3" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-instanceswith-app-versionslugversion" title="GET /instances/with-app-version/:slug/:version" class="md-nav__link">
    GET /instances/with-app-version/:slug/:version
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_4" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_4" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainmagic_link" title="POST /instances/:domain/magic_link" class="md-nav__link">
    POST /instances/:domain/magic_link
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_5" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_5" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainsession_code" title="POST /instances/:domain/session_code" class="md-nav__link">
    POST /instances/:domain/session_code
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_6" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_6" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainsession_codecheck" title="POST /instances/:domain/session_code/check" class="md-nav__link">
    POST /instances/:domain/session_code/check
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_7" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_7" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainemail_verified_code" title="POST /instances/:domain/email_verified_code" class="md-nav__link">
    POST /instances/:domain/email_verified_code
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_8" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_8" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-instancesdomainsessions" title="DELETE /instances/:domain/sessions" class="md-nav__link">
    DELETE /instances/:domain/sessions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_9" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_9" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainfixerscontent-mismatch" title="POST /instances/:domain/fixers/content-mismatch" class="md-nav__link">
    POST /instances/:domain/fixers/content-mismatch
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_10" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_10" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainfixerspassword-defined" title="POST /instances/:domain/fixers/password-defined" class="md-nav__link">
    POST /instances/:domain/fixers/password-defined
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_11" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainfixersorphan-account" title="POST /instances/:domain/fixers/orphan-account" class="md-nav__link">
    POST /instances/:domain/fixers/orphan-account
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_12" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainexport" title="POST /instances/:domain/export" class="md-nav__link">
    POST /instances/:domain/export
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query-string" title="Query-String" class="md-nav__link">
    Query-String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request_13" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_11" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-instancesdomainexportsexport-iddata" title="GET /instances/:domain/exports/:export-id/data" class="md-nav__link">
    GET /instances/:domain/exports/:export-id/data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#query-string_1" title="Query-String" class="md-nav__link">
    Query-String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request_14" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_12" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainnotifications" title="POST /instances/:domain/notifications" class="md-nav__link">
    POST /instances/:domain/notifications
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#response_13" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contexts" title="Contexts" class="md-nav__link">
    Contexts
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-instancescontexts" title="GET /instances/contexts" class="md-nav__link">
    GET /instances/contexts
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_15" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_14" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-instancescontextsname" title="GET /instances/contexts/:name" class="md-nav__link">
    GET /instances/contexts/:name
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_16" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_15" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#checkers" title="Checkers" class="md-nav__link">
    Checkers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-instancesdomainfsck" title="GET /instances/:domain/fsck" class="md-nav__link">
    GET /instances/:domain/fsck
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_17" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_16" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomaincheckstriggers" title="POST /instances/:domain/checks/triggers" class="md-nav__link">
    POST /instances/:domain/checks/triggers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_18" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_17" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomainchecksshared" title="POST /instances/:domain/checks/shared" class="md-nav__link">
    POST /instances/:domain/checks/shared
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_19" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_18" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-instancesdomaincheckssharings" title="POST /instances/:domain/checks/sharings" class="md-nav__link">
    POST /instances/:domain/checks/sharings
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#possible-error-types" title="Possible error types" class="md-nav__link">
    Possible error types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#invalid_rules" title="invalid_rules" class="md-nav__link">
    invalid_rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sharing_in_sharing" title="sharing_in_sharing" class="md-nav__link">
    sharing_in_sharing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#missing_matching_docs_for_owner" title="missing_matching_docs_for_owner" class="md-nav__link">
    missing_matching_docs_for_owner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#missing_sharing_for_member" title="missing_sharing_for_member" class="md-nav__link">
    missing_sharing_for_member
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#missing_files_rule_for_member" title="missing_files_rule_for_member" class="md-nav__link">
    missing_files_rule_for_member
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#missing_matching_docs_for_member" title="missing_matching_docs_for_member" class="md-nav__link">
    missing_matching_docs_for_member
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disk_quota_exceeded" title="disk_quota_exceeded" class="md-nav__link">
    disk_quota_exceeded
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read_only_member" title="read_only_member" class="md-nav__link">
    read_only_member
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalid_doc_rev" title="invalid_doc_rev" class="md-nav__link">
    invalid_doc_rev
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalid_doc_name" title="invalid_doc_name" class="md-nav__link">
    invalid_doc_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalid_doc_checksum" title="invalid_doc_checksum" class="md-nav__link">
    invalid_doc_checksum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalid_doc_parent" title="invalid_doc_parent" class="md-nav__link">
    invalid_doc_parent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#missing_matching_doc_for_owner" title="missing_matching_doc_for_owner" class="md-nav__link">
    missing_matching_doc_for_owner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#missing_matching_doc_for_member" title="missing_matching_doc_for_member" class="md-nav__link">
    missing_matching_doc_for_member
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request_20" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_19" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#konnectors" title="Konnectors" class="md-nav__link">
    Konnectors
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-konnectorsmaintenance" title="GET /konnectors/maintenance" class="md-nav__link">
    GET /konnectors/maintenance
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_21" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_20" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put-konnectorsmaintenanceslug" title="PUT /konnectors/maintenance/:slug" class="md-nav__link">
    PUT /konnectors/maintenance/:slug
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_22" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_21" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-konnectorsmaintenanceslug" title="DELETE /konnectors/maintenance/:slug" class="md-nav__link">
    DELETE /konnectors/maintenance/:slug
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_23" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_22" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oidc" title="OIDC" class="md-nav__link">
    OIDC
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#post-oidccontextprovidercode" title="POST /oidc/:context/:provider/code" class="md-nav__link">
    POST /oidc/:context/:provider/code
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oauth-clients" title="OAuth clients" class="md-nav__link">
    OAuth clients
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delete-oauthdomainclients" title="DELETE /oauth/:domain/clients" class="md-nav__link">
    DELETE /oauth/:domain/clients
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_24" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_23" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#swift" title="Swift" class="md-nav__link">
    Swift
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-swiftlayouts" title="GET /swift/layouts" class="md-nav__link">
    GET /swift/layouts
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_25" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_24" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request_26" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_25" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-swiftvfsobject" title="GET /swift/vfs/:object" class="md-nav__link">
    GET /swift/vfs/:object
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_27" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_26" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#put-swiftvfsobject" title="PUT /swift/vfs/:object" class="md-nav__link">
    PUT /swift/vfs/:object
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_28" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-swiftvfsobject" title="DELETE /swift/vfs/:object" class="md-nav__link">
    DELETE /swift/vfs/:object
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_29" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-swiftvfs" title="GET /swift/vfs" class="md-nav__link">
    GET /swift/vfs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_30" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_27" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tools" title="Tools" class="md-nav__link">
    Tools
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-toolspprofheap" title="GET /tools/pprof/heap" class="md-nav__link">
    GET /tools/pprof/heap
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request_31" title="Request" class="md-nav__link">
    Request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response_28" title="Response" class="md-nav__link">
    Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/cozy/cozy.github.io/edit/dev/src/cozy-stack/admin.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <p><a href="../#table-of-contents">Table of contents</a></p>
<h1 id="admin">Admin<a class="headerlink" href="#admin" title="Permanent link">&para;</a></h1>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<p>An admin API is available on the stack. It offers several endpoints to interact
with your cozy-stack installation (E.g. interacting with instances, generating tokens, &hellip;).</p>
<p><img alt="⚠️" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/26a0.png" title=":warning:" /> Use the admin API only if you know what you are doing. The admin API
provides a basic authentication, you <strong>must</strong> protect these endpoints as they
are very powerful.</p>
<p>The default port for the admin endpoints is <code>6060</code>. If you want to customize the parameters, please see the <a href="../config/">config file documentation page</a>.</p>
<h2 id="instance">Instance<a class="headerlink" href="#instance" title="Permanent link">&para;</a></h2>
<h3 id="get-instances">GET /instances<a class="headerlink" href="#get-instances" title="Permanent link">&para;</a></h3>
<p>Returns the list of all instances. By default, there is no pagination, but it
is possible to add a <code>page[limit]</code> parameter in the query-string to paginate (
cf <a href="../http-api/#pagination">JSON-API pagination</a>). A <code>page[skip]</code> parameter in
the query-string is also supported, but CouchDB may be slow on requests with a
skip on large collections.</p>
<h4 id="request">Request<a class="headerlink" href="#request" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">GET</span> <span class="nn">/instances</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response">Response<a class="headerlink" href="#response" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/vnd.api+json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;instances&quot;</span><span class="p">,</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;3af6ed68a6d9146b3529d2584a001d98&quot;</span><span class="p">,</span>
            <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;domain&quot;</span><span class="p">:</span> <span class="s2">&quot;alice.cozy.localhost:8080&quot;</span><span class="p">,</span>
                <span class="nt">&quot;prefix&quot;</span><span class="p">:</span> <span class="s2">&quot;cozy7d3d5947e7f3b0c674d1b8644646348e&quot;</span><span class="p">,</span>
                <span class="nt">&quot;locale&quot;</span><span class="p">:</span> <span class="s2">&quot;fr&quot;</span><span class="p">,</span>
                <span class="nt">&quot;context&quot;</span><span class="p">:</span> <span class="s2">&quot;dev&quot;</span><span class="p">,</span>
                <span class="nt">&quot;onboarding_finished&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;indexes_version&quot;</span><span class="p">:</span> <span class="mi">30</span>
            <span class="p">},</span>
            <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;rev&quot;</span><span class="p">:</span> <span class="s2">&quot;1-32c855c989e8f6def0bc0cc417d8b3b4&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;links&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;self&quot;</span><span class="p">:</span> <span class="s2">&quot;/instances/3af6ed68a6d9146b3529d2584a001d98&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;instances&quot;</span><span class="p">,</span>
            <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;3af6ed68a6d9146b3529d2584a01d557&quot;</span><span class="p">,</span>
            <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;domain&quot;</span><span class="p">:</span> <span class="s2">&quot;bob.cozy.localhost:8080&quot;</span><span class="p">,</span>
                <span class="nt">&quot;prefix&quot;</span><span class="p">:</span> <span class="s2">&quot;cozybf682065ca3c7d64f2dafc6cc12fe702&quot;</span><span class="p">,</span>
                <span class="nt">&quot;locale&quot;</span><span class="p">:</span> <span class="s2">&quot;fr&quot;</span><span class="p">,</span>
                <span class="nt">&quot;context&quot;</span><span class="p">:</span> <span class="s2">&quot;dev&quot;</span><span class="p">,</span>
                <span class="nt">&quot;onboarding_finished&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;indexes_version&quot;</span><span class="p">:</span> <span class="mi">30</span>
            <span class="p">},</span>
            <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;rev&quot;</span><span class="p">:</span> <span class="s2">&quot;1-ab6f77dbfdb3aab5b70b022e37fe231f&quot;</span>
            <span class="p">},</span>
            <span class="nt">&quot;links&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;self&quot;</span><span class="p">:</span> <span class="s2">&quot;/instances/3af6ed68a6d9146b3529d2584a01d557&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="get-instancescount">GET /instances/count<a class="headerlink" href="#get-instancescount" title="Permanent link">&para;</a></h3>
<p>Returns the count of all instances.</p>
<h4 id="request_1">Request<a class="headerlink" href="#request_1" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">GET</span> <span class="nn">/instances/count</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_1">Response<a class="headerlink" href="#response_1" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="mi">259</span><span class="p">}</span>
</pre></div>


<h3 id="get-instancesdomainlast-activity">GET /instances/:domain/last-activity<a class="headerlink" href="#get-instancesdomainlast-activity" title="Permanent link">&para;</a></h3>
<p>It returns an approximate date of when the instance was last used by their
owner (automatic jobs like connectors don&rsquo;t count). It looks at the sessions
and OAuth tokens.</p>
<h4 id="request_2">Request<a class="headerlink" href="#request_2" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">GET</span> <span class="nn">/instances/john.mycozy.cloud/last-activity</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_2">Response<a class="headerlink" href="#response_2" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;last-activity&quot;</span><span class="p">:</span> <span class="s2">&quot;2022-12-31&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="patch-instancesdomain">PATCH /instances/:domain<a class="headerlink" href="#patch-instancesdomain" title="Permanent link">&para;</a></h3>
<p>This route can be used to change an instance (email, locale, disk quota, ToS,
etc.)</p>
<p><strong>Note</strong> a special parameter <code>FromCloudery=true</code> in the query string can be
used to tell the stack to not call the cloudery if the email or public name has
changed, since the change is already coming from the cloudery.</p>
<h4 id="request_3">Request<a class="headerlink" href="#request_3" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">PATCH</span> <span class="nn">/instances/john.mycozy.cloud?Email=john@example.com&amp;FromCloudery=true</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_3">Response<a class="headerlink" href="#response_3" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;instances&quot;</span><span class="p">,</span>
    <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;0dc76ad9b1cf3a979b916b3155001830&quot;</span><span class="p">,</span>
    <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;domain&quot;</span><span class="p">:</span> <span class="s2">&quot;john.mycozy.cloud&quot;</span><span class="p">,</span>
      <span class="nt">&quot;prefix&quot;</span><span class="p">:</span> <span class="s2">&quot;cozy1a4e1aabf424a194d7daf946d7b1337d&quot;</span><span class="p">,</span>
      <span class="nt">&quot;locale&quot;</span><span class="p">:</span> <span class="s2">&quot;fr&quot;</span><span class="p">,</span>
      <span class="nt">&quot;context&quot;</span><span class="p">:</span> <span class="s2">&quot;cozy&quot;</span><span class="p">,</span>
      <span class="nt">&quot;onboarding_finished&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;indexes_version&quot;</span><span class="p">:</span> <span class="mi">31</span><span class="p">,</span>
      <span class="nt">&quot;passphrase_hash&quot;</span><span class="p">:</span> <span class="s2">&quot;c2NyeXB0JDMyNzY4JDgkMSQyYjMzMTU1YTY5OTdjYzM2ZjQyYjk1MWM0MWU4ZWVkYSRlODA4NTY2ODQ5OTdkOWNmNzc1ZGEzMjdlYWMwOTgyNTMwMTM3NTJjYTMxMTdhYTIyYTIxODI0NzBmODhjYjdl&quot;</span><span class="p">,</span>
      <span class="nt">&quot;session_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;eyG2l+G1xO38WyD1GfqYkgSU/T4rnti+JzOwj6haHpM8PSMvzkGu/CSH0mpXUuuCNVbjEXc+hRwGMJ8lTKqs+w==&quot;</span><span class="p">,</span>
      <span class="nt">&quot;oauth_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;tnr6V8jDK27CDVpzNiOOAJZs+5wrvGyNyJxIc/BJ6O87i2eJX4LCzblDFyDbVv/B7qV7HA9/Fc+Agon2gHQg8x0E0zzfGizbFeWt+KPk7UrZNd4sZJ81oWNNd9BrJ2+eKXDmZeYBI0AwUSykyr7iOIpB5jXaIvfOQvH7EYwtKLg=&quot;</span><span class="p">,</span>
      <span class="nt">&quot;cli_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;dcLa1VqcoI4eNE7nBrFzhJ9w6rRLlAMESl3PAEqr+IDE29OeN3uyhzLhxPlk0b9rkc0yvozQc/AFttZxyqH/DDYa6rrJyrf91gddtwSfka1pJVss+/DiFaghyWJzEbffBs78X3swA2gSJNu0eGDKdFVY7q8iLT4JpfXy+GPzdLk=&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;rev&quot;</span><span class="p">:</span> <span class="s2">&quot;1-1c4efe4196191469a65b2a3e0898db61&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;links&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;self&quot;</span><span class="p">:</span> <span class="s2">&quot;/instances/0dc76ad9b1cf3a979b916b3155001830&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="get-instanceswith-app-versionslugversion">GET /instances/with-app-version/:slug/:version<a class="headerlink" href="#get-instanceswith-app-versionslugversion" title="Permanent link">&para;</a></h3>
<p>Returns all the instances using slug/version pair</p>
<h4 id="request_4">Request<a class="headerlink" href="#request_4" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">GET</span> <span class="nn">/instances/with-app-version/drive/1.0.0</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_4">Response<a class="headerlink" href="#response_4" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;instances&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;alice.cozy.localhost&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bob.cozy.localhost&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zoe.cozy.localhost&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h3 id="post-instancesdomainmagic_link">POST /instances/:domain/magic_link<a class="headerlink" href="#post-instancesdomainmagic_link" title="Permanent link">&para;</a></h3>
<p>Creates a code that can be used in a magic link (if this feature is enabled on
the Cozy).</p>
<h4 id="request_5">Request<a class="headerlink" href="#request_5" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">POST</span> <span class="nn">/instances/alice.cozy.localhost/magic_link</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_5">Response<a class="headerlink" href="#response_5" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;YmU5NmEzMzAtYjZiYy0wMTNiLTE1YzUtMThjMDRkYWJhMzI2&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="post-instancesdomainsession_code">POST /instances/:domain/session_code<a class="headerlink" href="#post-instancesdomainsession_code" title="Permanent link">&para;</a></h3>
<p>Creates a session_code that can be used to login on the given instance.</p>
<h4 id="request_6">Request<a class="headerlink" href="#request_6" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">POST</span> <span class="nn">/instances/alice.cozy.localhost/session_code</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_6">Response<a class="headerlink" href="#response_6" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;session_code&quot;</span><span class="p">:</span> <span class="s2">&quot;L7oJ6BDQtdbLR5Vr5vTxTXLJ1pQzMXcD&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="post-instancesdomainsession_codecheck">POST /instances/:domain/session_code/check<a class="headerlink" href="#post-instancesdomainsession_codecheck" title="Permanent link">&para;</a></h3>
<p>Checks that a session_code is valid for the given instance. Note that the
session_code will be invalidated after that.</p>
<h4 id="request_7">Request<a class="headerlink" href="#request_7" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">POST</span> <span class="nn">/instances/alice.cozy.localhost/session_code/check</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;session_code&quot;</span><span class="p">:</span> <span class="s2">&quot;L7oJ6BDQtdbLR5Vr5vTxTXLJ1pQzMXcD&quot;</span>
<span class="p">}</span>
</pre></div>


<h4 id="response_7">Response<a class="headerlink" href="#response_7" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;valid&quot;</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>


<h3 id="post-instancesdomainemail_verified_code">POST /instances/:domain/email_verified_code<a class="headerlink" href="#post-instancesdomainemail_verified_code" title="Permanent link">&para;</a></h3>
<p>Creates an email_verified_code that can be used on the given instance to avoid
the 2FA by email.</p>
<h4 id="request_8">Request<a class="headerlink" href="#request_8" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">POST</span> <span class="nn">/instances/alice.cozy.localhost/email_verified_code</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_8">Response<a class="headerlink" href="#response_8" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;email_verified_code&quot;</span><span class="p">:</span> <span class="s2">&quot;jBPF5Kvpv1oztdaSgdA2315hVpAf6BCd&quot;</span>
<span class="p">}</span>
</pre></div>


<p>Note: if the two factor authentication by email is not enabled on this
instance, it will return a 400 Bad Request error.</p>
<h3 id="delete-instancesdomainsessions">DELETE /instances/:domain/sessions<a class="headerlink" href="#delete-instancesdomainsessions" title="Permanent link">&para;</a></h3>
<p>Delete the databases for io.cozy.sessions and io.cozy.sessions.logins.</p>
<h4 id="request_9">Request<a class="headerlink" href="#request_9" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">DELETE</span> <span class="nn">/instances/alice.cozy.localhost/sessions</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_9">Response<a class="headerlink" href="#response_9" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</pre></div>


<h3 id="post-instancesdomainfixerscontent-mismatch">POST /instances/:domain/fixers/content-mismatch<a class="headerlink" href="#post-instancesdomainfixerscontent-mismatch" title="Permanent link">&para;</a></h3>
<p>Fixes the 64k (or multiple) content mismatch files of an instance</p>
<h4 id="request_10">Request<a class="headerlink" href="#request_10" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">POST</span> <span class="nn">/instances/alice.cozy.localhost/fixers/content-mismatch</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;dry_run&quot;</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>


<p>The <code>dry_run</code> (default to <code>true</code>) body parameter tells if the request is a
dry-run or not.</p>
<h4 id="response_10">Response<a class="headerlink" href="#response_10" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;dry_run&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;updated&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;filepath&quot;</span><span class="p">:</span> <span class="s2">&quot;/file64.txt&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;3c79846513e81aee78ab30849d006550&quot;</span><span class="p">,</span>
      <span class="nt">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-07-30 15:05:27.268876334 +0200 CEST&quot;</span><span class="p">,</span>
      <span class="nt">&quot;updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-07-30 15:05:27.268876334 +0200 CEST&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;removed&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;filepath&quot;</span><span class="p">:</span> <span class="s2">&quot;/.cozy_trash/file64.txt-corrupted&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;3c79846513e81aee78ab30849d001f98&quot;</span><span class="p">,</span>
      <span class="nt">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-07-30 10:18:28.826400117 +0200 CEST&quot;</span><span class="p">,</span>
      <span class="nt">&quot;updated_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-07-30 14:32:29.862882247 +0200 CEST&quot;</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;domain&quot;</span><span class="p">:</span> <span class="s2">&quot;alice.cozy.localhost&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="post-instancesdomainfixerspassword-defined">POST /instances/:domain/fixers/password-defined<a class="headerlink" href="#post-instancesdomainfixerspassword-defined" title="Permanent link">&para;</a></h3>
<p>Fill the <code>password_defined</code> field of the io.cozy.settings.instance if it was
missing.</p>
<h4 id="request_11">Request<a class="headerlink" href="#request_11" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">POST</span> <span class="nn">/instances/alice.cozy.localhost/fixers/password-defined</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h3 id="post-instancesdomainfixersorphan-account">POST /instances/:domain/fixers/orphan-account<a class="headerlink" href="#post-instancesdomainfixersorphan-account" title="Permanent link">&para;</a></h3>
<p>Delete the accounts which are not linked to a konnector</p>
<h4 id="request_12">Request<a class="headerlink" href="#request_12" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">POST</span> <span class="nn">/instances/alice.cozy.localhost/fixers/orphan-account</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h3 id="post-instancesdomainexport">POST /instances/:domain/export<a class="headerlink" href="#post-instancesdomainexport" title="Permanent link">&para;</a></h3>
<p>Starts an export for the given instance. The CouchDB documents will be saved in 
an intermediary archive while the files won&rsquo;t be added until the data is 
actually downloaded.</p>
<p>The response contains the details of the scheduled export job.</p>
<h4 id="query-string">Query-String<a class="headerlink" href="#query-string" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>admin-req</td>
<td>Boolean indicating when the request is made by an admin and the user should not be notified</td>
</tr>
</tbody>
</table>
<p>The admin-req parameter is optional: by default, the instance&rsquo;s owner will be 
notified via e-mail, whether the export is successful or not. If it&rsquo;s 
successful, the e-mail will contain a link to the Settings app allowing the user
to download the data archives.
When this parameter is <code>true</code>, no e-mails will be sent and the admin will be 
able to get the export document via realtime events.</p>
<h4 id="request_13">Request<a class="headerlink" href="#request_13" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">POST</span> <span class="nn">/instances/alice.cozy.localhost/export?admin-req=true</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_11">Response<a class="headerlink" href="#response_11" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;123123&quot;</span><span class="p">,</span>
  <span class="nt">&quot;_rev&quot;</span><span class="p">:</span> <span class="s2">&quot;1-58d2b368da0a1b336bcd18ced210a8a1&quot;</span><span class="p">,</span>
  <span class="nt">&quot;domain&quot;</span><span class="p">:</span> <span class="s2">&quot;alice.cozy.localhost&quot;</span><span class="p">,</span>
   <span class="nt">&quot;prefix&quot;</span><span class="p">:</span> <span class="s2">&quot;cozyfdd8fd8eb825ad98821b11871abf58c9&quot;</span><span class="p">,</span>
   <span class="nt">&quot;worker&quot;</span><span class="p">:</span> <span class="s2">&quot;export&quot;</span><span class="p">,</span>
   <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="p">{</span>
     <span class="nt">&quot;parts_size&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
     <span class="nt">&quot;max_age&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
     <span class="nt">&quot;contextual_domain&quot;</span><span class="p">:</span> <span class="s2">&quot;alice.cozy.localhost&quot;</span><span class="p">,</span>
     <span class="nt">&quot;admin_req&quot;</span><span class="p">:</span> <span class="kc">true</span>
   <span class="p">},</span>
   <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
   <span class="nt">&quot;state&quot;</span><span class="p">:</span> <span class="s2">&quot;queued&quot;</span><span class="p">,</span>
   <span class="nt">&quot;queued_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2023-02-01T11:50:59.286530525+01:00&quot;</span><span class="p">,</span>
   <span class="nt">&quot;started_at&quot;</span><span class="p">:</span> <span class="s2">&quot;0001-01-01T00:00:00Z&quot;</span><span class="p">,</span>
   <span class="nt">&quot;finished_at&quot;</span><span class="p">:</span> <span class="s2">&quot;0001-01-01T00:00:00Z&quot;</span>
<span class="p">}</span>
</pre></div>


<h3 id="get-instancesdomainexportsexport-iddata">GET /instances/:domain/exports/:export-id/data<a class="headerlink" href="#get-instancesdomainexportsexport-iddata" title="Permanent link">&para;</a></h3>
<p>This endpoint will return an archive containing the metadata and files of the
user, as part of a multi-part response.</p>
<p>Only the first part of the archive contains the metadata.</p>
<h4 id="query-string_1">Query-String<a class="headerlink" href="#query-string_1" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>cursor</td>
<td>String reprentation of the export cursor to start the download from</td>
</tr>
</tbody>
</table>
<p>The cursor parameter is optional but any given cursor should be one of the 
defined <code>parts_cursors</code> in the export document.
To get all the parts, this endpoint must be called one time with no cursors, and
one time for each cursor in <code>parts_cursors</code>.</p>
<h4 id="request_14">Request<a class="headerlink" href="#request_14" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">GET</span> <span class="nn">/instances/alice.cozy.localhost/exports/123123/data?cursor=io.cozy.files%2Fa27b3bae83160774a74525de670d5d8e</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_12">Response<a class="headerlink" href="#response_12" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/zip</span>
<span class="na">Content-Disposition</span><span class="o">:</span> <span class="l">attachment; filename=&quot;alice.cozy.localhost - part001.zip&quot;</span>
</pre></div>


<h3 id="post-instancesdomainnotifications">POST /instances/:domain/notifications<a class="headerlink" href="#post-instancesdomainnotifications" title="Permanent link">&para;</a></h3>
<p>This endpoint allows to send a notification via the notification center. Both
the notification declaration and its properties need to be passed in the body.
These notifications cannot use templates defined in cozy-stack though so their
e-mail content must be provided directly (at least in HTML).</p>
<p>When the request is successful, the generated notification object is returned.</p>
<div class="codehilite"><pre><span></span><span class="nf">POST</span> <span class="nn">/instances/alice.cozy.localhost/notifications</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="o">:</span> <span class="l">Bearer ...</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;notification&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;account-balance&quot;</span><span class="p">,</span>
        <span class="nt">&quot;category_id&quot;</span><span class="p">:</span> <span class="s2">&quot;my-bank&quot;</span><span class="p">,</span>
        <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Your account balance is not OK&quot;</span><span class="p">,</span>
        <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Warning: we have detected a negative balance in your my-bank&quot;</span><span class="p">,</span>
        <span class="nt">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;high&quot;</span><span class="p">,</span>
        <span class="nt">&quot;state&quot;</span><span class="p">:</span> <span class="s2">&quot;-1&quot;</span><span class="p">,</span>
        <span class="nt">&quot;preferred_channels&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;mobile&quot;</span><span class="p">],</span>
        <span class="nt">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello,\r\nWe have detected a negative balance in your my-bank account.&quot;</span><span class="p">,</span>
        <span class="nt">&quot;content_html&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;html&gt;\r\n\t&lt;body&gt;\r\n\t&lt;p&gt;Hello,&lt;br/&gt;We have detected a negative balance in your my-bank account.&lt;/p&gt;\r\n\t&lt;/body&gt;\r\n\t&lt;/html&gt;&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Alert the user when its account balance is negative&quot;</span><span class="p">,</span>
        <span class="nt">&quot;collapsible&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;multiple&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;stateful&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;default_priority&quot;</span><span class="p">:</span> <span class="s2">&quot;high&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h4 id="response_13">Response<a class="headerlink" href="#response_13" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;c57a548c-7602-11e7-933b-6f27603d27da&quot;</span><span class="p">,</span>
    <span class="nt">&quot;_rev&quot;</span><span class="p">:</span> <span class="s2">&quot;1-1f2903f9a867&quot;</span><span class="p">,</span>
    <span class="nt">&quot;source_id&quot;</span><span class="p">:</span> <span class="s2">&quot;cozy/cli//account-balance/my-bank&quot;</span><span class="p">,</span>
    <span class="nt">&quot;originator&quot;</span><span class="p">:</span> <span class="s2">&quot;cli&quot;</span><span class="p">,</span>
    <span class="nt">&quot;category&quot;</span><span class="p">:</span> <span class="s2">&quot;account-balance&quot;</span><span class="p">,</span>
    <span class="nt">&quot;category_id&quot;</span><span class="p">:</span> <span class="s2">&quot;my-bank&quot;</span><span class="p">,</span>
    <span class="nt">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-01-04T15:23:01.832Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;last_sent&quot;</span><span class="p">:</span> <span class="s2">&quot;2024-01-04T15:23:01.832Z&quot;</span><span class="p">,</span>
    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Your account balance is not OK&quot;</span><span class="p">,</span>
    <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Warning: we have detected a negative balance in your my-bank&quot;</span><span class="p">,</span>
    <span class="nt">&quot;priority&quot;</span><span class="p">:</span> <span class="s2">&quot;high&quot;</span><span class="p">,</span>
    <span class="nt">&quot;state&quot;</span><span class="p">:</span> <span class="s2">&quot;-1&quot;</span><span class="p">,</span>
    <span class="nt">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello,\r\nWe have detected a negative balance in your my-bank account.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;contentHTML&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;html&gt;\r\n\t&lt;body&gt;\r\n\t&lt;p&gt;Hello,&lt;br/&gt;We have detected a negative balance in your my-bank account.&lt;/p&gt;\r\n\t&lt;/body&gt;\r\n\t&lt;/html&gt;&quot;</span>
<span class="p">}</span>
</pre></div>


<h2 id="contexts">Contexts<a class="headerlink" href="#contexts" title="Permanent link">&para;</a></h2>
<h3 id="get-instancescontexts">GET /instances/contexts<a class="headerlink" href="#get-instancescontexts" title="Permanent link">&para;</a></h3>
<p>This endpoint returns the list of the contexts, with their name, config,
registries, office server, cloudery endpoints, and OIDC data.</p>
<h4 id="request_15">Request<a class="headerlink" href="#request_15" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">GET</span> <span class="nn">/instances/contexts</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_14">Response<a class="headerlink" href="#response_14" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="nt">&quot;config&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;claudy_actions&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;desktop&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mobile&quot;</span><span class="p">,</span>
        <span class="s2">&quot;support&quot;</span>
      <span class="p">],</span>
      <span class="nt">&quot;debug&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;features&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="nt">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="nt">&quot;baz&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;qux&quot;</span><span class="p">,</span>
            <span class="s2">&quot;quux&quot;</span>
          <span class="p">]</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="nt">&quot;help_link&quot;</span><span class="p">:</span> <span class="s2">&quot;https://forum.cozy.io/&quot;</span><span class="p">,</span>
      <span class="nt">&quot;noreply_address&quot;</span><span class="p">:</span> <span class="s2">&quot;noreply@cozy.beta&quot;</span><span class="p">,</span>
      <span class="nt">&quot;noreply_name&quot;</span><span class="p">:</span> <span class="s2">&quot;My Cozy Beta&quot;</span><span class="p">,</span>
      <span class="nt">&quot;sharing_domain&quot;</span><span class="p">:</span> <span class="s2">&quot;cozy.localhost&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;context&quot;</span><span class="p">:</span> <span class="s2">&quot;dev&quot;</span><span class="p">,</span>
    <span class="nt">&quot;registries&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;https://apps-registry.cozycloud.cc/&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;office&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;OnlyOfficeURL&quot;</span><span class="p">:</span> <span class="s2">&quot;https://documentserver.cozycloud.cc/&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;cloudery_endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;oidc&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;allow_oauth_token&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nt">&quot;authorize_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://identity-prodiver/path/to/authorize&quot;</span><span class="p">,</span>
      <span class="nt">&quot;client_id&quot;</span><span class="p">:</span> <span class="s2">&quot;aClientID&quot;</span><span class="p">,</span>
      <span class="nt">&quot;id_token_jwk_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://identity-prodiver/path/to/jwk&quot;</span><span class="p">,</span>
      <span class="nt">&quot;login_domain&quot;</span><span class="p">:</span> <span class="s2">&quot;login.mycozy.cloud&quot;</span><span class="p">,</span>
      <span class="nt">&quot;redirect_uri&quot;</span><span class="p">:</span> <span class="s2">&quot;https://oauthcallback.mycozy.cloud/oidc/redirect&quot;</span><span class="p">,</span>
      <span class="nt">&quot;scope&quot;</span><span class="p">:</span> <span class="s2">&quot;openid profile&quot;</span><span class="p">,</span>
      <span class="nt">&quot;token_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://identity-prodiver/path/to/token&quot;</span><span class="p">,</span>
      <span class="nt">&quot;userinfo_instance_field&quot;</span><span class="p">:</span> <span class="s2">&quot;cozy_number&quot;</span><span class="p">,</span>
      <span class="nt">&quot;userinfo_instance_prefix&quot;</span><span class="p">:</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span>
      <span class="nt">&quot;userinfo_instance_suffix&quot;</span><span class="p">:</span> <span class="s2">&quot;.mycozy.cloud&quot;</span><span class="p">,</span>
      <span class="nt">&quot;userinfo_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://identity-prodiver/path/to/userinfo&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>


<h3 id="get-instancescontextsname">GET /instances/contexts/:name<a class="headerlink" href="#get-instancescontextsname" title="Permanent link">&para;</a></h3>
<p>This endpoint returns the config of a given context.</p>
<h4 id="request_16">Request<a class="headerlink" href="#request_16" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">GET</span> <span class="nn">/instances/contexts/dev</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_15">Response<a class="headerlink" href="#response_15" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;config&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;claudy_actions&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;desktop&quot;</span><span class="p">,</span>
      <span class="s2">&quot;mobile&quot;</span><span class="p">,</span>
      <span class="s2">&quot;support&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;debug&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;features&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nt">&quot;foo&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="nt">&quot;baz&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;qux&quot;</span><span class="p">,</span>
          <span class="s2">&quot;quux&quot;</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;help_link&quot;</span><span class="p">:</span> <span class="s2">&quot;https://forum.cozy.io/&quot;</span><span class="p">,</span>
    <span class="nt">&quot;noreply_address&quot;</span><span class="p">:</span> <span class="s2">&quot;noreply@cozy.beta&quot;</span><span class="p">,</span>
    <span class="nt">&quot;noreply_name&quot;</span><span class="p">:</span> <span class="s2">&quot;My Cozy Beta&quot;</span><span class="p">,</span>
    <span class="nt">&quot;sharing_domain&quot;</span><span class="p">:</span> <span class="s2">&quot;cozy.localhost&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;context&quot;</span><span class="p">:</span> <span class="s2">&quot;dev&quot;</span><span class="p">,</span>
  <span class="nt">&quot;registries&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;https://apps-registry.cozycloud.cc/&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;office&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;OnlyOfficeURL&quot;</span><span class="p">:</span> <span class="s2">&quot;https://documentserver.cozycloud.cc/&quot;</span><span class="p">,</span>
    <span class="nt">&quot;InboxSecret&quot;</span><span class="p">:</span> <span class="s2">&quot;inbox_secret&quot;</span><span class="p">,</span>
    <span class="nt">&quot;OutboxSecret&quot;</span><span class="p">:</span> <span class="s2">&quot;outbox_secret&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;cloudery_endpoint&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span>
<span class="p">}</span>
</pre></div>


<h2 id="checkers">Checkers<a class="headerlink" href="#checkers" title="Permanent link">&para;</a></h2>
<h3 id="get-instancesdomainfsck">GET /instances/:domain/fsck<a class="headerlink" href="#get-instancesdomainfsck" title="Permanent link">&para;</a></h3>
<p>This endpoint can be use to check the VFS of a given instance. It accepts three
possible parameters in the query-string:</p>
<ul>
<li><code>IndexIntegrity=true</code> to check only the integrity of the data in CouchDB</li>
<li><code>FilesConsistency</code> to check the consistency between CouchDB and Swift</li>
<li><code>FailFast</code> to abort on the first error.</li>
</ul>
<p>It will returns a <code>200 OK</code>, except if the instance is not found where the code
will be <code>404 Not Found</code> (a <code>5xx</code> can also happen in case of server errors like
CouchDB not available). The format of the response will be one JSON per line,
and each JSON represents an error.</p>
<h4 id="request_17">Request<a class="headerlink" href="#request_17" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">GET</span> <span class="nn">/instances/alice.cozy.localhost/fsck</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_16">Response<a class="headerlink" href="#response_16" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;index_orphan_tree&quot;</span><span class="p">,</span><span class="nt">&quot;dir_doc&quot;</span><span class="p">:{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;directory&quot;</span><span class="p">,</span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="s2">&quot;34a61c6ceb38075fe971cc6a3263659f&quot;</span><span class="p">,</span><span class="nt">&quot;_rev&quot;</span><span class="p">:</span><span class="s2">&quot;2-94ca3acfebf927cb231d125c57f85bd7&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Photos&quot;</span><span class="p">,</span><span class="nt">&quot;dir_id&quot;</span><span class="p">:</span><span class="s2">&quot;45496c5c442dabecae87de3d73008ec4&quot;</span><span class="p">,</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2020-12-15T18:23:21.498323965+01:00&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2020-12-15T18:23:21.498323965+01:00&quot;</span><span class="p">,</span><span class="nt">&quot;tags&quot;</span><span class="p">:[],</span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="s2">&quot;/Photos&quot;</span><span class="p">,</span><span class="nt">&quot;cozyMetadata&quot;</span><span class="p">:{</span><span class="nt">&quot;doctypeVersion&quot;</span><span class="p">:</span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="nt">&quot;metadataVersion&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2020-12-15T18:23:21.498327603+01:00&quot;</span><span class="p">,</span><span class="nt">&quot;updatedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2020-12-15T18:23:21.498327603+01:00&quot;</span><span class="p">,</span><span class="nt">&quot;createdOn&quot;</span><span class="p">:</span><span class="s2">&quot;http://alice.cozy.localhost:8080/&quot;</span><span class="p">},</span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="nt">&quot;is_dir&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&quot;is_orphan&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&quot;has_cycle&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">},</span><span class="nt">&quot;is_file&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;is_version&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">}</span>
<span class="p">{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;index_missing&quot;</span><span class="p">,</span><span class="nt">&quot;file_doc&quot;</span><span class="p">:{</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;file&quot;</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Photos&quot;</span><span class="p">,</span><span class="nt">&quot;dir_id&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="s2">&quot;2020-12-15T18:23:21.527308795+01:00&quot;</span><span class="p">,</span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="s2">&quot;2020-12-15T18:23:21.527308795+01:00&quot;</span><span class="p">,</span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="s2">&quot;/Photos&quot;</span><span class="p">,</span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="s2">&quot;4096&quot;</span><span class="p">,</span><span class="nt">&quot;mime&quot;</span><span class="p">:</span><span class="s2">&quot;application/octet-stream&quot;</span><span class="p">,</span><span class="nt">&quot;class&quot;</span><span class="p">:</span><span class="s2">&quot;files&quot;</span><span class="p">,</span><span class="nt">&quot;executable&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&quot;is_dir&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;is_orphan&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;has_cycle&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">},</span><span class="nt">&quot;is_file&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&quot;is_version&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">}</span>
</pre></div>


<h3 id="post-instancesdomaincheckstriggers">POST /instances/:domain/checks/triggers<a class="headerlink" href="#post-instancesdomaincheckstriggers" title="Permanent link">&para;</a></h3>
<p>This endpoint will check if no trigger has been installed twice (or more).</p>
<h4 id="request_18">Request<a class="headerlink" href="#request_18" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">POST</span> <span class="nn">/instances/alice.cozy.localhost/checks/triggers</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_17">Response<a class="headerlink" href="#response_17" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
    <span class="nt">&quot;_id&quot;</span><span class="p">:</span> <span class="s2">&quot;45496c5c442dabecae87de3d7300666f&quot;</span><span class="p">,</span>
    <span class="nt">&quot;arguments&quot;</span><span class="p">:</span> <span class="s2">&quot;io.cozy.files:CREATED,UPDATED,DELETED:image:class&quot;</span><span class="p">,</span>
    <span class="nt">&quot;debounce&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;other_id&quot;</span><span class="p">:</span> <span class="s2">&quot;34a61c6ceb38075fe971cc6a3263895f&quot;</span><span class="p">,</span>
    <span class="nt">&quot;trigger&quot;</span><span class="p">:</span> <span class="s2">&quot;@event&quot;</span><span class="p">,</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;duplicate&quot;</span><span class="p">,</span>
    <span class="nt">&quot;worker&quot;</span><span class="p">:</span> <span class="s2">&quot;thumbnail&quot;</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>


<h3 id="post-instancesdomainchecksshared">POST /instances/:domain/checks/shared<a class="headerlink" href="#post-instancesdomainchecksshared" title="Permanent link">&para;</a></h3>
<p>This endpoint will check that the io.cozy.shared documents have a correct
revision tree (no generation smaller for a children than its parent).</p>
<h4 id="request_19">Request<a class="headerlink" href="#request_19" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">POST</span> <span class="nn">/instances/alice.cozy.localhost/checks/shared</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_18">Response<a class="headerlink" href="#response_18" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">[</span>
  <span class="p">{</span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="s2">&quot;io.cozy.files/fd1706de234d17d1ac2fe560051a2aae&quot;</span><span class="p">,</span><span class="nt">&quot;child_rev&quot;</span><span class="p">:</span><span class="s2">&quot;1-e19947b4f9bfb273bc8958ae932ae4c7&quot;</span><span class="p">,</span><span class="nt">&quot;parent_rev&quot;</span><span class="p">:</span><span class="s2">&quot;2-4f82af35577dbc9b686dd447719e4835&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;invalid_revs_suite&quot;</span><span class="p">},</span>
  <span class="p">{</span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="s2">&quot;io.cozy.files/fd9bef5df406f5b150f302b8c5b3f5f0&quot;</span><span class="p">,</span><span class="nt">&quot;child_rev&quot;</span><span class="p">:</span><span class="s2">&quot;7-05bb459e0ac5450c17df79ed1f13afa1&quot;</span><span class="p">,</span><span class="nt">&quot;parent_rev&quot;</span><span class="p">:</span><span class="s2">&quot;8-07b4cafef3c2e74e698ee4a04d1874c2&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;invalid_revs_suite&quot;</span><span class="p">}</span>
<span class="p">]</span>
</pre></div>


<h3 id="post-instancesdomaincheckssharings">POST /instances/:domain/checks/sharings<a class="headerlink" href="#post-instancesdomaincheckssharings" title="Permanent link">&para;</a></h3>
<p>This endpoint can be used to check the setup of sharings owned by a given
instance and the consistency of the shared files and folders with their
counterparts on the Cozy they&rsquo;re shared with. It accepts one parameter in the
query-string:</p>
<ul>
<li><code>Fast</code> to skip the files and folders consistency check as it can be quite long</li>
</ul>
<p>It will return a <code>200 OK</code>, except if the instance is not found where the code
will be <code>404 Not Found</code> (a <code>5xx</code> can also happen in case of server errors like
CouchDB not available). The format of the response will be a JSON array of
objects, each object representing an error.</p>
<h4 id="possible-error-types">Possible error types<a class="headerlink" href="#possible-error-types" title="Permanent link">&para;</a></h4>
<h5 id="invalid_rules">invalid_rules<a class="headerlink" href="#invalid_rules" title="Permanent link">&para;</a></h5>
<p>This will be raised when the owner&rsquo;s sharing rules are invalid.
The validation result will be returned in the <code>error</code> attribute.</p>
<h5 id="sharing_in_sharing">sharing_in_sharing<a class="headerlink" href="#sharing_in_sharing" title="Permanent link">&para;</a></h5>
<p>This will be raised when the root of the sharing being checked is part of
another sharing (i.e. one of its parent folders is shared). The parent
sharing can be found either on the owner&rsquo;s instance or on one of its members&rsquo;
instance.
The <code>parent_sharing</code> attribute will contain the parent sharing ID.</p>
<h5 id="missing_matching_docs_for_owner">missing_matching_docs_for_owner<a class="headerlink" href="#missing_matching_docs_for_owner" title="Permanent link">&para;</a></h5>
<p>This will be raised if the shared files and folders associated with the sharing
could not be fetched on the owner&rsquo;s instance.
The request error will be returned in the <code>error</code> attribute.
No further consistency checks will be run on this sharing.</p>
<h5 id="missing_sharing_for_member">missing_sharing_for_member<a class="headerlink" href="#missing_sharing_for_member" title="Permanent link">&para;</a></h5>
<p>This will be raised when the associated <code>io.cozy.sharing</code> document cannot be
found on a sharing member&rsquo;s instance.
The request error will be returned in the <code>error</code> attribute.
No further consistency checks will be run for this member.</p>
<h5 id="missing_files_rule_for_member">missing_files_rule_for_member<a class="headerlink" href="#missing_files_rule_for_member" title="Permanent link">&para;</a></h5>
<p>This will be raised if a member&rsquo;s sharing doesn&rsquo;t have any sharing rule for
<code>io.cozy.files</code> documents (while the owner&rsquo;s sharing has been determined to be
of this type).
The member&rsquo;s domain will be available in the <code>member</code> attribute.
No further consistency checks will be run for this member.</p>
<h5 id="missing_matching_docs_for_member">missing_matching_docs_for_member<a class="headerlink" href="#missing_matching_docs_for_member" title="Permanent link">&para;</a></h5>
<p>This will be raised if the shared files and folders associated with the sharing
could not be fetched on a member&rsquo;s instance.
The request error will be returned in the <code>error</code> attribute and the member&rsquo;s
domain in the <code>member</code> attribute. No further consistency checks will be run for
this member.</p>
<h5 id="disk_quota_exceeded">disk_quota_exceeded<a class="headerlink" href="#disk_quota_exceeded" title="Permanent link">&para;</a></h5>
<p>This will be raised if a file is outdated or missing on an instance and its size
is larger than the available space on this instance. If the file was created or
modified in the last 5 minutes, the check is skipped as we expect the
synchronization to happen later.
The instance&rsquo;s domain will be available in the <code>instance</code> attribute.</p>
<h5 id="read_only_member">read_only_member<a class="headerlink" href="#read_only_member" title="Permanent link">&para;</a></h5>
<p>This will be raised if a file or folder is outdated or missing on the owner&rsquo;s
instance and the member being checked has only read-only access to the sharing.
This is not really an error as this behavior is expected but since it can be
confusing for users we log it for debugging purposes.
The member&rsquo;s domain will be available in the <code>member</code> attribute.</p>
<h5 id="invalid_doc_rev">invalid_doc_rev<a class="headerlink" href="#invalid_doc_rev" title="Permanent link">&para;</a></h5>
<p>This will be raised if a file or folder&rsquo;s revisions don&rsquo;t match on the owner&rsquo;s
and member&rsquo;s instances while the member has write access to the sharing and the
file size is not greater than the outdated instance&rsquo;s available disk space. The
revisions generations can be the same too. If the document was modified in the
last 5 minutes, the check is skipped as we expect the synchronization to happen
later.
The member&rsquo;s domain will be available in the <code>member</code> attribute, as well as the
revision of the member document in <code>memberRev</code> and the complete owner document
in <code>ownerDoc</code>.</p>
<h5 id="invalid_doc_name">invalid_doc_name<a class="headerlink" href="#invalid_doc_name" title="Permanent link">&para;</a></h5>
<p>This will be raised if a file or folder&rsquo;s revisions match on the owner&rsquo;s and
member&rsquo;s instances but their names don&rsquo;t.
The member&rsquo;s domain will be available in the <code>member</code> attribute, as well as the
name of the member document in <code>memberName</code> and the complete owner document
in <code>ownerDoc</code>.</p>
<h5 id="invalid_doc_checksum">invalid_doc_checksum<a class="headerlink" href="#invalid_doc_checksum" title="Permanent link">&para;</a></h5>
<p>This will be raised if a file&rsquo;s revisions match on the owner&rsquo;s and member&rsquo;s
instances but their checksums don&rsquo;t.
The member&rsquo;s domain will be available in the <code>member</code> attribute, as well as the
checksum of the member file in <code>memberChecksum</code> and the complete owner document
in <code>ownerDoc</code>.</p>
<h5 id="invalid_doc_parent">invalid_doc_parent<a class="headerlink" href="#invalid_doc_parent" title="Permanent link">&para;</a></h5>
<p>This will be raised if a file or folder&rsquo;s parent directories don&rsquo;t match on the
owner&rsquo;s and member&rsquo;s instances but their names don&rsquo;t. Since it is expected for
the sharing root to not have different parents on each instance, the check does
not apply to this document.
The member&rsquo;s domain will be available in the <code>member</code> attribute, as well as the
id of the member&rsquo;s parent directory in <code>memberParent</code> and the complete owner
document in <code>ownerDoc</code>.</p>
<h5 id="missing_matching_doc_for_owner">missing_matching_doc_for_owner<a class="headerlink" href="#missing_matching_doc_for_owner" title="Permanent link">&para;</a></h5>
<p>This will be raised if a file or directory is missing on the owner&rsquo;s instance
while the member being check has write access to the sharing and the file size
is not greater than the instance&rsquo;s available disk space. If the missing document
was created or modified in the last 5 minutes, the check is skipped as we expect
the synchronization to happen later.
The member&rsquo;s domain will be available in the <code>member</code> attribute and the complete
missing member document in <code>memberDoc</code>.</p>
<h5 id="missing_matching_doc_for_member">missing_matching_doc_for_member<a class="headerlink" href="#missing_matching_doc_for_member" title="Permanent link">&para;</a></h5>
<p>This will be raised if a file or directory is missing on a member&rsquo;s instance
while the file size is not greater than the instance&rsquo;s available disk space. If
the missing document was created or modified in the last 5 minutes, the check is
skipped as we expect the synchronization to happen later.
The member&rsquo;s domain will be available in the <code>member</code> attribute and the complete
missing owner document in <code>ownerDoc</code>.</p>
<p>===</p>
<p>Other error types include <code>missing_trigger_on_active_sharing</code>,
<code>trigger_on_inactive_sharing</code>, <code>not_enough_members</code>, <code>mail_not_sent</code>,
<code>invalid_member_status</code>, <code>invalid_instance_for_member</code>,
<code>missing_instance_for_member</code>, <code>missing_oauth_client</code>, <code>missing_access_token</code>,
<code>invalid_number_of_credentials</code> and <code>missing_inbound_client_id</code>.</p>
<p>When checking for files and folders inconsistencies, sharings will be skipped
when inactive, not initialized, read-only or not about <code>io.cozy.files</code>
documents.
Also, for each instance, only the sharings owned by said instance will be
checked. Other sharings will be checked via their owner instance.</p>
<h4 id="request_20">Request<a class="headerlink" href="#request_20" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">POST</span> <span class="nn">/instances/alice.cozy.localhost/checks/sharings</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_19">Response<a class="headerlink" href="#response_19" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">[</span>
  <span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;314d69d7ebaed0a1870cca67f4433390&quot;</span><span class="p">,</span><span class="nt">&quot;trigger&quot;</span><span class="p">:</span><span class="s2">&quot;track&quot;</span><span class="p">,</span><span class="nt">&quot;trigger_id&quot;</span><span class="p">:</span><span class="s2">&quot;314d69d7ebaed0a1870cca67f4d75e41&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;trigger_on_inactive_sharing&quot;</span><span class="p">},</span>
  <span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;314d69d7ebaed0a1870cca67f4433390&quot;</span><span class="p">,</span><span class="nt">&quot;trigger&quot;</span><span class="p">:</span><span class="s2">&quot;replicate&quot;</span><span class="p">,</span><span class="nt">&quot;trigger_id&quot;</span><span class="p">:</span><span class="s2">&quot;314d69d7ebaed0a1870cca67f4d75e41&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;trigger_on_inactive_sharing&quot;</span><span class="p">},</span>
  <span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;314d69d7ebaed0a1870cca67f4433390&quot;</span><span class="p">,</span><span class="nt">&quot;trigger&quot;</span><span class="p">:</span><span class="s2">&quot;upload&quot;</span><span class="p">,</span><span class="nt">&quot;trigger_id&quot;</span><span class="p">:</span><span class="s2">&quot;314d69d7ebaed0a1870cca67f4d75e41&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;trigger_on_inactive_sharing&quot;</span><span class="p">},</span>
  <span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;314d69d7ebaed0a1870cca67f4433390&quot;</span><span class="p">,</span><span class="nt">&quot;member&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;revoked&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;invalid_member_status&quot;</span><span class="p">},</span>
  <span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;314d69d7ebaed0a1870cca67f4433390&quot;</span><span class="p">,</span><span class="nt">&quot;nb_members&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;owner&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;invalid_number_of_credentials&quot;</span><span class="p">}</span>
<span class="p">]</span>
</pre></div>


<h2 id="konnectors">Konnectors<a class="headerlink" href="#konnectors" title="Permanent link">&para;</a></h2>
<h3 id="get-konnectorsmaintenance">GET /konnectors/maintenance<a class="headerlink" href="#get-konnectorsmaintenance" title="Permanent link">&para;</a></h3>
<h4 id="request_21">Request<a class="headerlink" href="#request_21" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">GET</span> <span class="nn">/konnectors/maintenance</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<p>A parameter <code>Context</code> can be given on the query string to also includes the
konnectors that are in maintenance on the apps registry.</p>
<h4 id="response_20">Response<a class="headerlink" href="#response_20" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;meta&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">},</span>
  <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;io.cozy.konnectors.maintenance&quot;</span><span class="p">,</span>
      <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;level&quot;</span><span class="p">:</span> <span class="s2">&quot;stack&quot;</span><span class="p">,</span>
        <span class="nt">&quot;maintenance_activated&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;maintenance_options&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;flag_disallow_manual_exec&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
          <span class="nt">&quot;flag_infra_maintenance&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nt">&quot;flag_short_maintenance&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;fr&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;long_message&quot;</span><span class="p">:</span> <span class="s2">&quot;Bla bla bla&quot;</span><span class="p">,</span>
              <span class="nt">&quot;short_message&quot;</span><span class="p">:</span> <span class="s2">&quot;Bla&quot;</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;slug&quot;</span><span class="p">:</span> <span class="s2">&quot;ameli&quot;</span><span class="p">,</span>
        <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;konnector&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<p><strong>Note:</strong> <code>level</code> can be <code>stack</code> or <code>registry</code>.</p>
<h3 id="put-konnectorsmaintenanceslug">PUT /konnectors/maintenance/:slug<a class="headerlink" href="#put-konnectorsmaintenanceslug" title="Permanent link">&para;</a></h3>
<h4 id="request_22">Request<a class="headerlink" href="#request_22" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">PUT</span> <span class="nn">/konnectors/maintenance/ameli</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/vnd.api+json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;attributes&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;flag_short_maintenance&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nt">&quot;flag_disallow_manual_exec&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;fr&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;long_message&quot;</span><span class="p">:</span> <span class="s2">&quot;Bla bla bla&quot;</span><span class="p">,</span>
          <span class="nt">&quot;short_message&quot;</span><span class="p">:</span> <span class="s2">&quot;Bla&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;en&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;long_message&quot;</span><span class="p">:</span> <span class="s2">&quot;Yadi yadi yada&quot;</span><span class="p">,</span>
          <span class="nt">&quot;short_message&quot;</span><span class="p">:</span> <span class="s2">&quot;Yada&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p><strong>Note:</strong> the <code>flag_infra_maintenance</code> will always be set to true with this
endpoint.</p>
<h4 id="response_21">Response<a class="headerlink" href="#response_21" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</pre></div>


<h3 id="delete-konnectorsmaintenanceslug">DELETE /konnectors/maintenance/:slug<a class="headerlink" href="#delete-konnectorsmaintenanceslug" title="Permanent link">&para;</a></h3>
<h4 id="request_23">Request<a class="headerlink" href="#request_23" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">DELETE</span> <span class="nn">/konnectors/maintenance/ameli</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_22">Response<a class="headerlink" href="#response_22" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</pre></div>


<h2 id="oidc">OIDC<a class="headerlink" href="#oidc" title="Permanent link">&para;</a></h2>
<h3 id="post-oidccontextprovidercode">POST /oidc/:context/:provider/code<a class="headerlink" href="#post-oidccontextprovidercode" title="Permanent link">&para;</a></h3>
<p>This endpoint is used by the cloudery to create a delegated code, which will be
then used by the flagship app to obtain its access_token and refresh_token. The
<code>:provider</code> parameter can be <code>generic</code> or <code>franceconnect</code>.</p>
<p>The cloudery sends its access_token for the OIDC provider, the stack can use it
to make a request to the userinfo endpoint of the OIDC provider. With the
response, the stack can create a delegated code associated to the sub.</p>
<div class="codehilite"><pre><span></span><span class="nf">POST</span> <span class="nn">/oidc/dev/franceconnect/code</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Authorization</span><span class="o">:</span> <span class="l">Bearer ZmE2ZTFmN</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;access_token&quot;</span><span class="p">:</span> <span class="s2">&quot;ZmE2ZTFmN&quot;</span>
<span class="p">}</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;delegated_code&quot;</span><span class="p">:</span> <span class="s2">&quot;wMTNiLTNmZWItMThY&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sub&quot;</span><span class="p">:</span> <span class="s2">&quot;DIzYWE2MjA&quot;</span><span class="p">,</span>
  <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;jerome@example.org&quot;</span>
<span class="p">}</span>
</pre></div>


<h2 id="oauth-clients">OAuth clients<a class="headerlink" href="#oauth-clients" title="Permanent link">&para;</a></h2>
<h3 id="delete-oauthdomainclients">DELETE /oauth/:domain/clients<a class="headerlink" href="#delete-oauthdomainclients" title="Permanent link">&para;</a></h3>
<p>Delete all the OAuth clients for the given instance. It can be limited to a
specific kind of clients (<code>desktop</code>, <code>mobile</code>, <code>sharing</code>, etc.) by using the
<code>Kind</code> parameter of the query-string. It returns the number of clients that
have been deleted.</p>
<h4 id="request_24">Request<a class="headerlink" href="#request_24" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">DELETE</span> <span class="nn">/oauth/cozy.example/clients</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_23">Response<a class="headerlink" href="#response_23" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span><span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="mi">42</span><span class="p">}</span>
</pre></div>


<h2 id="swift">Swift<a class="headerlink" href="#swift" title="Permanent link">&para;</a></h2>
<h3 id="get-swiftlayouts">GET /swift/layouts<a class="headerlink" href="#get-swiftlayouts" title="Permanent link">&para;</a></h3>
<p>Count swift layouts by type</p>
<h4 id="request_25">Request<a class="headerlink" href="#request_25" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">GET</span> <span class="nn">/swift/layouts</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_24">Response<a class="headerlink" href="#response_24" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="nt">&quot;unknown&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span>
  <span class="nt">&quot;v1&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">},</span>
  <span class="nt">&quot;v2a&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span>
  <span class="nt">&quot;v2b&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span>
  <span class="nt">&quot;v3a&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">},</span>
  <span class="nt">&quot;v3b&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">4</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>The <code>show_domains=true</code> query parameter provides the domain names if needed</p>
<h4 id="request_26">Request<a class="headerlink" href="#request_26" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">GET</span> <span class="nn">/swift/layouts?show_domains=true</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_25">Response<a class="headerlink" href="#response_25" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;total&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="nt">&quot;unknown&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span>
  <span class="nt">&quot;v1&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="nt">&quot;domains&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;bob.cozy.localhost:8081&quot;</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="nt">&quot;v2a&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span>
  <span class="nt">&quot;v2b&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span>
  <span class="nt">&quot;v3a&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="nt">&quot;domains&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;alice.cozy.localhost:8081&quot;</span><span class="p">,</span>
      <span class="s2">&quot;ru.cozy.localhost:8081&quot;</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="nt">&quot;v3b&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;counter&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="nt">&quot;domains&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;foo.cozy.localhost:8081&quot;</span><span class="p">,</span>
      <span class="s2">&quot;bar.cozy.localhost:8081&quot;</span><span class="p">,</span>
      <span class="s2">&quot;baz.cozy.localhost:8081&quot;</span><span class="p">,</span>
      <span class="s2">&quot;foobar.cozy.localhost:8081&quot;</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="get-swiftvfsobject">GET /swift/vfs/:object<a class="headerlink" href="#get-swiftvfsobject" title="Permanent link">&para;</a></h3>
<p>Retrieves a Swift object</p>
<h4 id="request_27">Request<a class="headerlink" href="#request_27" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">GET</span> <span class="nn">/swift/vfs/67a88b22520680b1fae840%2F9a8a0%2F18d02%2FiYbkfuCDEMaVoIXg</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">alice.cozy.localhost</span>
</pre></div>


<h4 id="response_26">Response<a class="headerlink" href="#response_26" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>
</pre></div>


<div class="codehilite"><pre><span></span>&quot;foobar&quot;
</pre></div>


<h3 id="put-swiftvfsobject">PUT /swift/vfs/:object<a class="headerlink" href="#put-swiftvfsobject" title="Permanent link">&para;</a></h3>
<p>Put an object in Swift</p>
<h4 id="request_28">Request<a class="headerlink" href="#request_28" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">PUT</span> <span class="nn">/swift/vfs/67a88b22520680b1fae840%2F9a8a0%2F18d02%2FiYbkfuCDEMaVoIXg</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">alice.cozy.localhost</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain</span>
</pre></div>


<div class="codehilite"><pre><span></span>&quot;this is my content&quot;
</pre></div>


<h3 id="delete-swiftvfsobject">DELETE /swift/vfs/:object<a class="headerlink" href="#delete-swiftvfsobject" title="Permanent link">&para;</a></h3>
<p>Removes an object from Swift</p>
<h4 id="request_29">Request<a class="headerlink" href="#request_29" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">DELETE</span> <span class="nn">/swift/vfs/67a88b22520680b1fae840%2F9a8a0%2F18d02%2FiYbkfuCDEMaVoIXg</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">alice.cozy.localhost</span>
</pre></div>


<h3 id="get-swiftvfs">GET /swift/vfs<a class="headerlink" href="#get-swiftvfs" title="Permanent link">&para;</a></h3>
<p>List Swift objects of an instance</p>
<h4 id="request_30">Request<a class="headerlink" href="#request_30" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">GET</span> <span class="nn">/swift/vfs</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">alice.cozy.localhost</span>
</pre></div>


<h4 id="response_27">Response<a class="headerlink" href="#response_27" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;objects_names&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;67a88b22520680b1fae840/9a8a0/17264/AxfGhAiWVRhPufKK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;67a88b22520680b1fae840/9a8a0/18d02/iYbkfuCDEMaVoIXg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;thumbs/67a88b22520680b1fae840/9a8a0/17264-large&quot;</span><span class="p">,</span>
    <span class="s2">&quot;thumbs/67a88b22520680b1fae840/9a8a0/17264-medium&quot;</span><span class="p">,</span>
    <span class="s2">&quot;thumbs/67a88b22520680b1fae840/9a8a0/17264-small&quot;</span><span class="p">,</span>
    <span class="s2">&quot;thumbs/67a88b22520680b1fae840/9a8a0/17264-tiny&quot;</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>


<h2 id="tools">Tools<a class="headerlink" href="#tools" title="Permanent link">&para;</a></h2>
<h3 id="get-toolspprofheap">GET /tools/pprof/heap<a class="headerlink" href="#get-toolspprofheap" title="Permanent link">&para;</a></h3>
<p>Return a sampling of memory allocations as pprof format.</p>
<h4 id="request_31">Request<a class="headerlink" href="#request_31" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="nf">GET</span> <span class="nn">/tools/pprof/heap</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>


<h4 id="response_28">Response<a class="headerlink" href="#response_28" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../cli/cozy-stack/" title="Manpages of the command-line tool" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Manpages of the command-line tool
              </span>
            </div>
          </a>
        
        
          <a href="../important-changes/" title="Important changes" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Important changes
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            <a href="/en/privacy">privacy</a>
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
    
      <script src="../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.2.3",url:{base:"../.."}})</script>
      
        <script src="../../extra.js"></script>
      
    
    <!-- Matomo -->
    <script>
        var _paq = window._paq = window._paq || [];
        /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
        var u="https://matomo.cozycloud.cc/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '25']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
        })();
    </script>
    <!-- End Matomo Code -->

  </body>
</html>