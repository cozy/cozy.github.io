



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Cozy documentation">
      
      
        <link rel="canonical" href="https://docs.cozy.io/cozy-apps-registry/">
      
      
        <meta name="author" content="CozyCloud - https://cozy.io">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[^a-zа-яё0-9\-\.]">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Registry server - Cozy Developer Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    <script type="text/javascript">
        // Used in extra.js, we have to define the variable here since
        // we need access to the "config" jinja variable
        window.outsideDocs = [{"name": "cozy-app-publish", "repo": "https://github.com/cozy/cozy-app-publish.git", "subdir": "."}, {"name": "cozy-apps-registry", "repo": "https://github.com/cozy/cozy-apps-registry.git", "subdir": "."}, {"name": "cozy-client", "repo": "https://github.com/cozy/cozy-client.git", "subdir": "docs"}, {"name": "cozy-ui", "repo": "https://github.com/cozy/cozy-ui.git", "subdir": "docs"}, {"name": "cozy-doctypes", "repo": "https://github.com/cozy/cozy-doctypes.git", "subdir": "."}, {"name": "cozy-konnector-libs", "repo": "https://github.com/konnectors/libs.git", "subdir": "packages/cozy-konnector-libs/docs"}, {"name": "cozy-scripts", "repo": "https://github.com/cozy/create-cozy-app.git", "subdir": "packages/cozy-scripts/docs"}, {"name": "cozy-stack", "repo": "https://github.com/cozy/cozy-stack.git", "subdir": "docs"}, {"name": "babel-preset-cozy-app", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/babel-preset-cozy-app"}, {"name": "commitlint-config-cozy", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/commitlint-config-cozy"}, {"name": "cozy-device-helper", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/cozy-device-helper"}, {"name": "eslint-config-cozy-app", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/eslint-config-cozy-app"}, {"name": "cozy-notifications", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/cozy-notifications"}, {"name": "cozy-flags", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/cozy-flags"}, {"name": "cozy-realtime", "repo": "https://github.com/cozy/cozy-libs.git", "subdir": "packages/cozy-realtime"}, {"name": "cozy-banks", "repo": "https://github.com/cozy/cozy-banks.git", "subdir": "."}, {"name": "ach", "repo": "https://github.com/cozy/ach.git", "subdir": "."}, {"name": "cozy-coclyco", "repo": "https://github.com/cozy/cozy-coclyco.git", "subdir": "."}]
    </script>

    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700|Ubuntu+Mono&display=fallback">
        <style>body,input{font-family:"Lato","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#cozy-apps-registry" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.cozy.io/" title="Cozy Developer Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon">cloud</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Cozy Developer Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Registry server
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/cozy/cozy.github.io/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href=".." title="Home" class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../tutorials/app/" title="Tutorials" class="md-tabs__link">
          Tutorials
        </a>
      
    </li>
  

      
        
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../howTos/dev/runCozyDocker/" title="How-to" class="md-tabs__link">
          How-to
        </a>
      
    </li>
  

  

      
        
  
  
    
    
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../cozy-client/getting-started/" title="Libraries" class="md-tabs__link">
          Libraries
        </a>
      
    </li>
  

  

  

      
        
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../cozy-banks/" title="Applications" class="md-tabs__link">
          Applications
        </a>
      
    </li>
  

  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://docs.cozy.io/" title="Cozy Developer Documentation" class="md-nav__button md-logo">
      
        <i class="md-icon">cloud</i>
      
    </a>
    Cozy Developer Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/cozy/cozy.github.io/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/app/" title="Create Your Application" class="md-nav__link">
      Create Your Application
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Develop a Connector
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        Develop a Connector
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/konnector/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/konnector/getting-started/" title="Basic structure" class="md-nav__link">
      Basic structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/konnector/scrape-data/" title="Scrape data" class="md-nav__link">
      Scrape data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/konnector/save-data/" title="Save data" class="md-nav__link">
      Save data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/konnector/packaging/" title="Package your connector" class="md-nav__link">
      Package your connector
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3">
      Manipulate data
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        Manipulate data
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/data/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/data/queries/" title="Queries" class="md-nav__link">
      Queries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/data/pouchdb/" title="PouchDB" class="md-nav__link">
      PouchDB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/data/doctypes/" title="DocTypes" class="md-nav__link">
      DocTypes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/data/qualification/" title="Qualification" class="md-nav__link">
      Qualification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/data/advanced/" title="Advanced" class="md-nav__link">
      Advanced
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/selfhost-debian/" title="Self-Host on Debian" class="md-nav__link">
      Self-Host on Debian
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      How-to
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        How-to
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      Dev
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        Dev
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../howTos/dev/runCozyDocker/" title="Run an App in a Cozy using Docker" class="md-nav__link">
      Run an App in a Cozy using Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../howTos/dev/services/" title="Develop a service from your application" class="md-nav__link">
      Develop a service from your application
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../howTos/dev/hmr/" title="Use Hot Module Replacement in Your App" class="md-nav__link">
      Use Hot Module Replacement in Your App
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../howTos/dev/cordova/" title="Make a Mobile App Using Cordova" class="md-nav__link">
      Make a Mobile App Using Cordova
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../howTos/dev/connect-mobile-app-local-stack/" title="Connect a Mobile App to Your Local Stack" class="md-nav__link">
      Connect a Mobile App to Your Local Stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../howTos/dev/sendmail/" title="Send and Receive E-mails in Development" class="md-nav__link">
      Send and Receive E-mails in Development
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../references/git-flow/" title="Our Front-End Git Flow" class="md-nav__link">
      Our Front-End Git Flow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../references/tech-intro/" title="Technical introduction to the Cozy platform" class="md-nav__link">
      Technical introduction to the Cozy platform
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Synchronize
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Synchronize
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../howTos/sync/linux/" title="Install Cozy Drive on GNU/Linux" class="md-nav__link">
      Install Cozy Drive on GNU/Linux
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Libraries
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Libraries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1">
    
    <label class="md-nav__link" for="nav-4-1">
      Develop an application
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-1">
        Develop an application
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1-1" type="checkbox" id="nav-4-1-1">
    
    <label class="md-nav__link" for="nav-4-1-1">
      Access data (client)
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-1-1">
        Access data (client)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-client/getting-started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-client/architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-client/relationships/" title="Using relationships" class="md-nav__link">
      Using relationships
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-client/metadata/" title="Maintenance" class="md-nav__link">
      Maintenance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1-1-5" type="checkbox" id="nav-4-1-1-5">
    
    <label class="md-nav__link" for="nav-4-1-1-5">
      React
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-1-1-5">
        React
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-client/react-integration/" title="React integration" class="md-nav__link">
      React integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-client/hooks/" title="Hooks" class="md-nav__link">
      Hooks
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-client/logging/" title="Logging" class="md-nav__link">
      Logging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-client/node/" title="Node" class="md-nav__link">
      Node
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-client/api/cozy-client/" title="Cozy Client API" class="md-nav__link">
      Cozy Client API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-client/api/cozy-pouch-link/" title="Cozy Pouch Link API" class="md-nav__link">
      Cozy Pouch Link API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-client/api/cozy-stack-client/" title="Cozy Stack Client API" class="md-nav__link">
      Cozy Stack Client API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-ui/" title="Build the user interface (ui)" class="md-nav__link">
      Build the user interface (ui)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-1-3" type="checkbox" id="nav-4-1-3">
    
    <label class="md-nav__link" for="nav-4-1-3">
      Define data (doctypes)
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-1-3">
        Define data (doctypes)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.accounts/" title="Accounts" class="md-nav__link">
      Accounts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.apps/" title="Apps" class="md-nav__link">
      Apps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.apps.suggestions/" title="App suggestions" class="md-nav__link">
      App suggestions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.bank/" title="Banking doctypes" class="md-nav__link">
      Banking doctypes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.bills/" title="Bills" class="md-nav__link">
      Bills
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.konnectors/" title="Connectors" class="md-nav__link">
      Connectors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.contacts/" title="Contacts" class="md-nav__link">
      Contacts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.docrules/" title="DocRules" class="md-nav__link">
      DocRules
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.files/" title="Files" class="md-nav__link">
      Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.files_metadata/" title="Files metadata" class="md-nav__link">
      Files metadata
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.identities/" title="Identities" class="md-nav__link">
      Identities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.notes/" title="Notes" class="md-nav__link">
      Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.notifications/" title="Notifications" class="md-nav__link">
      Notifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.permissions/" title="Permissions" class="md-nav__link">
      Permissions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.photos/" title="Photos" class="md-nav__link">
      Photos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.procedures/" title="Procedures" class="md-nav__link">
      Procedures
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.sessions.logins/" title="Sessions Logins" class="md-nav__link">
      Sessions Logins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.settings/" title="Settings" class="md-nav__link">
      Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.sharings/" title="Sharings" class="md-nav__link">
      Sharings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.todos/" title="Todos" class="md-nav__link">
      Todos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.account_types/" title="Accounts Types" class="md-nav__link">
      Accounts Types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/cc.cozycloud.autocategorization/" title="Autocategorization" class="md-nav__link">
      Autocategorization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.exports/" title="Exports" class="md-nav__link">
      Exports
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.jobs/" title="Jobs" class="md-nav__link">
      Jobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.oauth.clients/" title="OAuth Clients" class="md-nav__link">
      OAuth Clients
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.oauth.access_codes/" title="OAuth Access Codes" class="md-nav__link">
      OAuth Access Codes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.triggers/" title="Triggers" class="md-nav__link">
      Triggers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.triggers.state/" title="Triggers state" class="md-nav__link">
      Triggers state
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.remote.requests/" title="Remote requests" class="md-nav__link">
      Remote requests
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.sessions/" title="Sessions" class="md-nav__link">
      Sessions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.shared/" title="Shared" class="md-nav__link">
      Shared
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/io.cozy.terms/" title="Terms" class="md-nav__link">
      Terms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/com.bitwarden.ciphers/" title="Bitwarden ciphers" class="md-nav__link">
      Bitwarden ciphers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/com.bitwarden.folders/" title="Bitwarden folders" class="md-nav__link">
      Bitwarden folders
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-doctypes/docs/com.unibet.bets/" title="Bets Unibet" class="md-nav__link">
      Bets Unibet
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-realtime/" title="Realtime data (realtime)" class="md-nav__link">
      Realtime data (realtime)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-device-helper/" title="Native devices (device-helper)" class="md-nav__link">
      Native devices (device-helper)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      Develop a konnector
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        Develop a konnector
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-konnector-libs/" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-konnector-libs/api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-konnector-libs/cli/" title="CLI" class="md-nav__link">
      CLI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-konnector-libs/dev/" title="Develop" class="md-nav__link">
      Develop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-konnector-libs/errors/" title="Errors" class="md-nav__link">
      Errors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-konnector-libs/operation-linking/" title="Operation linking" class="md-nav__link">
      Operation linking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-konnector-libs/synchronization/" title="Synchronization" class="md-nav__link">
      Synchronization
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-app-publish/" title="Publish on the store (app-publish)" class="md-nav__link">
      Publish on the store (app-publish)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-notifications/" title="Send notifications (cozy-notifications)" class="md-nav__link">
      Send notifications (cozy-notifications)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5">
    
    <label class="md-nav__link" for="nav-4-5">
      Dev tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        Dev tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../babel-preset-cozy-app/" title="Babel preset" class="md-nav__link">
      Babel preset
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../commitlint-config-cozy/" title="Commitlint" class="md-nav__link">
      Commitlint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../eslint-config-cozy-app/" title="ESLint" class="md-nav__link">
      ESLint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ach/" title="ACH" class="md-nav__link">
      ACH
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6" type="checkbox" id="nav-4-6" checked>
    
    <label class="md-nav__link" for="nav-4-6">
      Advanced
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-6">
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6-1" type="checkbox" id="nav-4-6-1">
    
    <label class="md-nav__link" for="nav-4-6-1">
      Stack server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-4-6-1">
        Stack server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6-1-2" type="checkbox" id="nav-4-6-1-2">
    
    <label class="md-nav__link" for="nav-4-6-1-2">
      Usage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-6-1-2">
        Usage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/INSTALL/" title="Install the cozy-stack" class="md-nav__link">
      Install the cozy-stack
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/config/" title="Configuration file" class="md-nav__link">
      Configuration file
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/instance/" title="Managing Instances" class="md-nav__link">
      Managing Instances
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/cli/cozy-stack/" title="Manpages of the command-line tool" class="md-nav__link">
      Manpages of the command-line tool
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6-1-3" type="checkbox" id="nav-4-6-1-3">
    
    <label class="md-nav__link" for="nav-4-6-1-3">
      How-to guides for developpers
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-6-1-3">
        How-to guides for developpers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/client-app-dev/" title="Develop a client-side app" class="md-nav__link">
      Develop a client-side app
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/docker/" title="Running and building Docker images" class="md-nav__link">
      Running and building Docker images
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/doctype/" title="Adding a new doctype" class="md-nav__link">
      Adding a new doctype
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/assets/" title="Working with the stack assets" class="md-nav__link">
      Working with the stack assets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/release/" title="Build a release" class="md-nav__link">
      Build a release
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/CONTRIBUTING/" title="The contributing guide" class="md-nav__link">
      The contributing guide
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6-1-4" type="checkbox" id="nav-4-6-1-4">
    
    <label class="md-nav__link" for="nav-4-6-1-4">
      Explanations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-6-1-4">
        Explanations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/move-design/" title="Move design" class="md-nav__link">
      Move design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/sharing-design/" title="Sharing design" class="md-nav__link">
      Sharing design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/konnectors-workflow/" title="Workflow of the konnectors" class="md-nav__link">
      Workflow of the konnectors
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-6-1-5" type="checkbox" id="nav-4-6-1-5">
    
    <label class="md-nav__link" for="nav-4-6-1-5">
      List of services
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="4">
      <label class="md-nav__title" for="nav-4-6-1-5">
        List of services
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/auth/" title="/auth - Authentication & OAuth" class="md-nav__link">
      /auth - Authentication & OAuth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/delegated-auth/" title="/oidc - Delegated authentication" class="md-nav__link">
       /oidc - Delegated authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/apps/" title="/apps - Applications Management" class="md-nav__link">
      /apps - Applications Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/registry/" title="/apps - Apps registry" class="md-nav__link">
       /apps - Apps registry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/konnectors/" title="/apps - Konnectors" class="md-nav__link">
       /apps - Konnectors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/bitwarden/" title="/bitwarden - Bitwarden" class="md-nav__link">
      /bitwarden - Bitwarden
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/contacts/" title="/contacts - Contacts" class="md-nav__link">
      /contacts - Contacts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/data-system/" title="/data - Data System" class="md-nav__link">
      /data - Data System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/mango/" title="/data - Mango" class="md-nav__link">
       /data - Mango
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/couchdb-quirks/" title="/data - CouchDB Quirks" class="md-nav__link">
       /data - CouchDB Quirks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/pouchdb-quirks/" title="/data - PouchDB Quirks" class="md-nav__link">
       /data - PouchDB Quirks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/files/" title="/files - Virtual File System" class="md-nav__link">
      /files - Virtual File System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/not-synchronized-vfs/" title="/files - Not synchronized directories" class="md-nav__link">
       /files - Not synchronized directories
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/references-docs-in-vfs/" title="/files - References of documents in VFS" class="md-nav__link">
       /files - References of documents in VFS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/intents/" title="/intents - Intents" class="md-nav__link">
      /intents - Intents
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/jobs/" title="/jobs - Jobs" class="md-nav__link">
      /jobs - Jobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/workers/" title="/jobs - Workers" class="md-nav__link">
       /jobs - Workers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/move/" title="/move - Move, export and import an instance" class="md-nav__link">
      /move - Move, export and import an instance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/notes/" title="/notes - Notes for collaborative edition" class="md-nav__link">
      /notes - Notes for collaborative edition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/notifications/" title="/notifications - Notifications" class="md-nav__link">
      /notifications - Notifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/public/" title="/public - Public" class="md-nav__link">
      /public - Public
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/permissions/" title="/permissions - Permissions" class="md-nav__link">
      /permissions - Permissions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/realtime/" title="/realtime - Realtime" class="md-nav__link">
      /realtime - Realtime
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/remote/" title="/remote - Proxy for remote data/API" class="md-nav__link">
      /remote - Proxy for remote data/API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/settings/" title="/settings - Settings" class="md-nav__link">
      /settings - Settings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/user-action-required/" title="/settings - Terms of Services" class="md-nav__link">
       /settings - Terms of Services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/sharing/" title="/sharings - Sharing" class="md-nav__link">
      /sharings - Sharing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/shortcuts/" title="/shortcuts - Shortcuts" class="md-nav__link">
      /shortcuts - Shortcuts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-stack/wellknown/" title="/.well-known - Well-known" class="md-nav__link">
      /.well-known - Well-known
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Registry server
      </label>
    
    <a href="./" title="Registry server" class="md-nav__link md-nav__link--active">
      Registry server
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#whats-cozy" title="What's Cozy?" class="md-nav__link">
    What's Cozy?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" title="Table of contents" class="md-nav__link">
    Table of contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-about-this-repository" title="What about this repository?" class="md-nav__link">
    What about this repository?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-develop-with-a-cozy-apps-registry-working-in-local-environment" title="How to develop with a cozy-apps-registry working in local environment" class="md-nav__link">
    How to develop with a cozy-apps-registry working in local environment
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-install-and-configure-the-local-cozy-apps-registry" title="1) Install and configure the local cozy-apps-registry" class="md-nav__link">
    1) Install and configure the local cozy-apps-registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-configure-the-registry-with-cozy-registryyml" title="2) Configure the registry with cozy-registry.yml" class="md-nav__link">
    2) Configure the registry with cozy-registry.yml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-run-the-registry-to-serve-the-apps" title="3) Run the registry to serve the apps" class="md-nav__link">
    3) Run the registry to serve the apps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-create-an-editor" title="4) Create an editor" class="md-nav__link">
    4) Create an editor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-configure-cozy-stack-with-the-registry" title="5) Configure cozy-stack with the registry" class="md-nav__link">
    5) Configure cozy-stack with the registry
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publish-your-application-on-the-registry" title="Publish your application on the registry" class="md-nav__link">
    Publish your application on the registry
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-prepare-your-application" title="1) Prepare your application" class="md-nav__link">
    1) Prepare your application
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#properties-meaning-reference" title="Properties meaning (reference)" class="md-nav__link">
    Properties meaning (reference)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translated-manifest-fields" title="Translated manifest fields" class="md-nav__link">
    Translated manifest fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#application-terms" title="Application terms" class="md-nav__link">
    Application terms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#konnectors-folders-handling" title="Konnectors folders handling" class="md-nav__link">
    Konnectors folders handling
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#konnectors-fields-property" title="Konnectors fields property" class="md-nav__link">
    Konnectors fields property
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#konnectors-message-property" title="Konnectors message property" class="md-nav__link">
    Konnectors message property
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#categories-and-data-types" title="Categories and Data types" class="md-nav__link">
    Categories and Data types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-add-a-new-application-in-the-registry" title="2) Add a new application in the registry" class="md-nav__link">
    2) Add a new application in the registry
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#our-official-apps-registry" title="Our official apps registry" class="md-nav__link">
    Our official apps registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-registry" title="Custom registry" class="md-nav__link">
    Custom registry
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-add-a-new-version-of-a-registered-application" title="3) Add a new version of a registered application" class="md-nav__link">
    3) Add a new version of a registered application
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#via-cozy-app-publish-highly-recommanded" title="Via cozy-app-publish (highly recommanded)" class="md-nav__link">
    Via cozy-app-publish (highly recommanded)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#via-curl" title="Via curl" class="md-nav__link">
    Via curl
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spaces-virtual-spaces" title="Spaces &amp; Virtual Spaces" class="md-nav__link">
    Spaces &amp; Virtual Spaces
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spaces" title="Spaces" class="md-nav__link">
    Spaces
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-space" title="Create a space" class="md-nav__link">
    Create a space
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-a-space" title="Remove a space" class="md-nav__link">
    Remove a space
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#virtual-spaces" title="Virtual Spaces" class="md-nav__link">
    Virtual Spaces
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automation-ci" title="Automation (CI)" class="md-nav__link">
    Automation (CI)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-control-and-tokens" title="Access control and tokens" class="md-nav__link">
    Access control and tokens
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#maintenance" title="Maintenance" class="md-nav__link">
    Maintenance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importexport" title="Import/export" class="md-nav__link">
    Import/export
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application-confidence-grade-labelling" title="Application confidence grade / labelling" class="md-nav__link">
    Application confidence grade / labelling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#universal-links" title="Universal links" class="md-nav__link">
    Universal links
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" title="Configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#config-file" title="Config file" class="md-nav__link">
    Config file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#files" title="Files" class="md-nav__link">
    Files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" title="Usage" class="md-nav__link">
    Usage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#budget-insight-web-auth" title="Budget-Insight web auth" class="md-nav__link">
    Budget-Insight web auth
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#community" title="Community" class="md-nav__link">
    Community
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Applications
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Applications
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      Cozy Banks
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        Cozy Banks
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-banks/" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-banks/docs/dev/" title="Develop" class="md-nav__link">
      Develop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-banks/docs/account-types/" title="Bank account types" class="md-nav__link">
      Bank account types
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-banks/docs/bills-matching/" title="Matching algorithm" class="md-nav__link">
      Matching algorithm
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-banks/docs/brand-dictionary/" title="Brands dictionary" class="md-nav__link">
      Brands dictionary
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-banks/docs/demo/" title="Demo tricks" class="md-nav__link">
      Demo tricks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-banks/docs/notifications/" title="Notifications" class="md-nav__link">
      Notifications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-banks/docs/override-cordova-config/" title="Override Cordova project config.xml" class="md-nav__link">
      Override Cordova project config.xml
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-banks/docs/services/" title="Services" class="md-nav__link">
      Services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cozy-banks/docs/tracking/" title="Tracking" class="md-nav__link">
      Tracking
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#whats-cozy" title="What's Cozy?" class="md-nav__link">
    What's Cozy?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" title="Table of contents" class="md-nav__link">
    Table of contents
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-about-this-repository" title="What about this repository?" class="md-nav__link">
    What about this repository?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-develop-with-a-cozy-apps-registry-working-in-local-environment" title="How to develop with a cozy-apps-registry working in local environment" class="md-nav__link">
    How to develop with a cozy-apps-registry working in local environment
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-install-and-configure-the-local-cozy-apps-registry" title="1) Install and configure the local cozy-apps-registry" class="md-nav__link">
    1) Install and configure the local cozy-apps-registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-configure-the-registry-with-cozy-registryyml" title="2) Configure the registry with cozy-registry.yml" class="md-nav__link">
    2) Configure the registry with cozy-registry.yml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-run-the-registry-to-serve-the-apps" title="3) Run the registry to serve the apps" class="md-nav__link">
    3) Run the registry to serve the apps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-create-an-editor" title="4) Create an editor" class="md-nav__link">
    4) Create an editor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-configure-cozy-stack-with-the-registry" title="5) Configure cozy-stack with the registry" class="md-nav__link">
    5) Configure cozy-stack with the registry
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publish-your-application-on-the-registry" title="Publish your application on the registry" class="md-nav__link">
    Publish your application on the registry
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-prepare-your-application" title="1) Prepare your application" class="md-nav__link">
    1) Prepare your application
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#properties-meaning-reference" title="Properties meaning (reference)" class="md-nav__link">
    Properties meaning (reference)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translated-manifest-fields" title="Translated manifest fields" class="md-nav__link">
    Translated manifest fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#application-terms" title="Application terms" class="md-nav__link">
    Application terms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#konnectors-folders-handling" title="Konnectors folders handling" class="md-nav__link">
    Konnectors folders handling
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#konnectors-fields-property" title="Konnectors fields property" class="md-nav__link">
    Konnectors fields property
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#konnectors-message-property" title="Konnectors message property" class="md-nav__link">
    Konnectors message property
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#categories-and-data-types" title="Categories and Data types" class="md-nav__link">
    Categories and Data types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-add-a-new-application-in-the-registry" title="2) Add a new application in the registry" class="md-nav__link">
    2) Add a new application in the registry
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#our-official-apps-registry" title="Our official apps registry" class="md-nav__link">
    Our official apps registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-registry" title="Custom registry" class="md-nav__link">
    Custom registry
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-add-a-new-version-of-a-registered-application" title="3) Add a new version of a registered application" class="md-nav__link">
    3) Add a new version of a registered application
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#via-cozy-app-publish-highly-recommanded" title="Via cozy-app-publish (highly recommanded)" class="md-nav__link">
    Via cozy-app-publish (highly recommanded)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#via-curl" title="Via curl" class="md-nav__link">
    Via curl
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spaces-virtual-spaces" title="Spaces &amp; Virtual Spaces" class="md-nav__link">
    Spaces &amp; Virtual Spaces
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spaces" title="Spaces" class="md-nav__link">
    Spaces
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-space" title="Create a space" class="md-nav__link">
    Create a space
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-a-space" title="Remove a space" class="md-nav__link">
    Remove a space
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#virtual-spaces" title="Virtual Spaces" class="md-nav__link">
    Virtual Spaces
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automation-ci" title="Automation (CI)" class="md-nav__link">
    Automation (CI)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-control-and-tokens" title="Access control and tokens" class="md-nav__link">
    Access control and tokens
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#maintenance" title="Maintenance" class="md-nav__link">
    Maintenance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#importexport" title="Import/export" class="md-nav__link">
    Import/export
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application-confidence-grade-labelling" title="Application confidence grade / labelling" class="md-nav__link">
    Application confidence grade / labelling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#universal-links" title="Universal links" class="md-nav__link">
    Universal links
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" title="Configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#config-file" title="Config file" class="md-nav__link">
    Config file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#files" title="Files" class="md-nav__link">
    Files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" title="Usage" class="md-nav__link">
    Usage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#budget-insight-web-auth" title="Budget-Insight web auth" class="md-nav__link">
    Budget-Insight web auth
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#community" title="Community" class="md-nav__link">
    Community
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/cozy/cozy.github.io/edit/dev/src/cozy-apps-registry/README.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="cozy-apps-registry">cozy-apps-registry<a class="headerlink" href="#cozy-apps-registry" title="Permanent link">&para;</a></h1>
<p><a href="https://pkg.go.dev/github.com/cozy/cozy-apps-registry"><img alt="go.dev reference" src="https://pkg.go.dev/badge/github.com/cozy/cozy-apps-registry" /></a>
<a href="https://github.com/cozy/cozy-apps-registry/actions"><img alt="Build Status" src="https://github.com/cozy/cozy-apps-registry/workflows/CI/badge.svg" /></a>
<a href="https://goreportcard.com/report/github.com/cozy/cozy-apps-registry"><img alt="Go Report Card" src="https://goreportcard.com/badge/github.com/cozy/cozy-apps-registry" /></a></p>
<h3 id="whats-cozy">What&rsquo;s Cozy?<a class="headerlink" href="#whats-cozy" title="Permanent link">&para;</a></h3>
<div align="center">
  <a href="https://cozy.io">
    <img src="https://cdn.rawgit.com/cozy/cozy-site/master/src/images/cozy-logo-name-horizontal-blue.svg" alt="cozy" height="48" />
  </a>
 </div>

<p></br></p>
<p><a href="https://cozy.io" title="Cozy Cloud">Cozy</a> is a platform that brings all your web services in the same private space.  With it, your webapps and your devices can share data easily, providing you with a new experience. You can install Cozy on your own hardware where no one&rsquo;s tracking you.</p>
<h2 id="table-of-contents">Table of contents<a class="headerlink" href="#table-of-contents" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#cozy-apps-registry">cozy-apps-registry</a><ul>
<li><a href="#whats-cozy">What&rsquo;s Cozy?</a></li>
</ul>
</li>
<li><a href="#table-of-contents">Table of contents</a></li>
<li><a href="#what-about-this-repository">What about this repository?</a></li>
<li><a href="#how-to-develop-with-a-cozy-apps-registry-working-in-local-environment">How to develop with a <code>cozy-apps-registry</code> working in local environment</a><ul>
<li><a href="#1-install-and-configure-the-local-cozy-apps-registry">1) Install and configure the local <code>cozy-apps-registry</code></a></li>
<li><a href="#2-configure-the-registry-with-cozy-registryyml">2) Configure the registry with <code>cozy-registry.yml</code></a></li>
<li><a href="#3-run-the-registry-to-serve-the-apps">3) Run the registry to serve the apps</a></li>
<li><a href="#4-create-an-editor">4) Create an editor</a></li>
<li><a href="#5-configure-cozy-stack-with-the-registry">5) Configure <code>cozy-stack</code> with the registry</a></li>
</ul>
</li>
<li><a href="#publish-your-application-on-the-registry">Publish your application on the registry</a><ul>
<li><a href="#1-prepare-your-application">1) Prepare your application</a></li>
<li><a href="#for-an-application">For an application</a></li>
<li><a href="#for-a-connector">For a connector</a></li>
<li><a href="#properties-meaning-reference">Properties meaning (reference)</a></li>
<li><a href="#translated-manifest-fields">Translated manifest fields</a></li>
<li><a href="#application-terms">Application terms</a></li>
<li><a href="#konnectors-folders-handling">Konnectors folders handling</a></li>
<li><a href="#2-add-a-new-application-in-the-registry">2) Add a new application in the registry</a></li>
<li><a href="#our-official-apps-registry">Our official apps registry</a></li>
<li><a href="#custom-registry">Custom registry</a></li>
<li><a href="#3-add-a-new-version-of-a-registered-application">3) Add a new version of a registered application</a></li>
<li><a href="#via-cozy-app-publishcozy-app-publish-highly-recommanded">Via <a href="https://github.com/cozy/cozy-app-publish"><code>cozy-app-publish</code></a> (highly recommanded)</a></li>
<li><a href="#via-curl">Via <code>curl</code></a></li>
<li><a href="#spaces--virtual-spaces">Spaces &amp; Virtual Spaces</a></li>
<li><a href="#spaces">Spaces</a><ul>
<li><a href="#create-a-space">Create a space</a></li>
<li><a href="#remove-a-space">Remove a space</a></li>
</ul>
</li>
<li><a href="#virtual-spaces">Virtual Spaces</a></li>
<li><a href="#automation-ci">Automation (CI)</a></li>
</ul>
</li>
<li><a href="#access-control-and-tokens">Access control and tokens</a></li>
<li><a href="#maintenance">Maintenance</a></li>
<li><a href="#import-export">Import/export</a></li>
<li><a href="#application-confidence-grade--labelling">Application confidence grade / labelling</a></li>
<li><a href="#universal-links">Universal links</a><ul>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#config-file">Config file</a></li>
<li><a href="#files">Files</a></li>
<li><a href="#usage">Usage</a></li>
</ul>
</li>
<li><a href="#biwebauth">BI Web Auth</a></li>
<li><a href="#community">Community</a></li>
</ul>
<h2 id="what-about-this-repository">What about this repository?<a class="headerlink" href="#what-about-this-repository" title="Permanent link">&para;</a></h2>
<p>The <code>cozy-apps-registry</code> is a go project that implements the <a href="https://github.com/cozy/cozy-stack/blob/master/docs/registry.md">registry
API</a>
described to work with the <a href="https://github.com/cozy/cozy-stack">cozy-stack</a>.</p>
<p>To work properly, it requires:</p>
<ul>
<li>Couchdb &gt;= 2.3</li>
<li>Redis</li>
<li>Openstack Object Storage (Swift)</li>
</ul>
<h2 id="how-to-develop-with-a-cozy-apps-registry-working-in-local-environment">How to develop with a <code>cozy-apps-registry</code> working in local environment<a class="headerlink" href="#how-to-develop-with-a-cozy-apps-registry-working-in-local-environment" title="Permanent link">&para;</a></h2>
<p>Before starting, you will need to have a couchdb running already. That can be the one used by the local <code>cozy-stack</code> if you have one. For this tutorial, couchdb will be running on the default port 5984.</p>
<p>You also must have redis and an OpenStack Object Storage (Swift) up and running. You can follow install instructions on <a href="https://docs.openstack.org/swift/latest/install/index.html">the official website</a></p>
<h3 id="1-install-and-configure-the-local-cozy-apps-registry">1) Install and configure the local <code>cozy-apps-registry</code><a class="headerlink" href="#1-install-and-configure-the-local-cozy-apps-registry" title="Permanent link">&para;</a></h3>
<p>Since this is a golang project, you can install it using <code>go</code> with the followed command:</p>
<div class="codehilite"><pre><span></span>go get -u github.com/cozy/cozy-apps-registry
<span class="nb">cd</span> <span class="nv">$GOPATH</span>/src/github.com/cozy/cozy-apps-registry/
</pre></div>


<p>Then you will need a session secret key to run the registry (this key will be store in the <code>sessionsecret.key</code> file of your working directory) using a password:</p>
<div class="codehilite"><pre><span></span>cozy-apps-registry gen-session-secret --passphrase sessionsecret.key
</pre></div>


<blockquote>
<p>This password is important, you will need it to run the <code>cozy-apps-registry</code> again later. If you lose it, you will have to start again these steps.</p>
</blockquote>
<h3 id="2-configure-the-registry-with-cozy-registryyml">2) Configure the registry with <code>cozy-registry.yml</code><a class="headerlink" href="#2-configure-the-registry-with-cozy-registryyml" title="Permanent link">&para;</a></h3>
<p>Before running the registry, you have to configure it correctly. Don&rsquo;t worry, here is the yaml file to copy and paste in your <code>cozy-registry.yml</code> (should be in the root folder of <code>cozy-apps-registry/</code>):</p>
<blockquote>
<p>:bulb: You can find an <a href="cozy-registry.example.yml">example of this configuration file</a> at the root of the directory.</p>
</blockquote>
<div class="codehilite"><pre><span></span><span class="c1"># server host (serve command) - flag --host</span>
<span class="l l-Scalar l-Scalar-Plain">host</span><span class="p p-Indicator">:</span> <span class="s">&quot;localhost&quot;</span>
<span class="c1"># server port (serve command) - flag --port</span>
<span class="l l-Scalar l-Scalar-Plain">port</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8081</span>

<span class="l l-Scalar l-Scalar-Plain">couchdb</span><span class="p p-Indicator">:</span>
  <span class="c1"># CouchDB server url - flag --couchdb-url</span>
  <span class="l l-Scalar l-Scalar-Plain">url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http://localhost:5984</span>
  <span class="c1"># CouchDB user - flag --couchdb-user</span>
  <span class="l l-Scalar l-Scalar-Plain">user</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
  <span class="c1"># CouchDB password - flag --couchdb-password</span>
  <span class="l l-Scalar l-Scalar-Plain">password</span><span class="p p-Indicator">:</span> <span class="s">&#39;&#39;</span>
  <span class="c1"># CouchDB prefix for the registries databases - flag --couchdb-prefix</span>
  <span class="l l-Scalar l-Scalar-Plain">prefix</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">registry1</span>

<span class="l l-Scalar l-Scalar-Plain">swift</span><span class="p p-Indicator">:</span>
  <span class="c1"># Swift auth URL (provided by keystone)</span>
  <span class="l l-Scalar l-Scalar-Plain">auth_url</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">http://172.28.128.3/identity/v3</span>
  <span class="c1"># Swift username</span>
  <span class="l l-Scalar l-Scalar-Plain">username</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>
  <span class="c1"># Swift password</span>
  <span class="l l-Scalar l-Scalar-Plain">api_key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">secret</span>
  <span class="c1"># Endpoint type (public/admin/internal)</span>
  <span class="l l-Scalar l-Scalar-Plain">endpointy_type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">public</span>
  <span class="c1"># Project name</span>
  <span class="l l-Scalar l-Scalar-Plain">tenant</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">demo</span>
  <span class="c1"># Swift domain</span>
  <span class="l l-Scalar l-Scalar-Plain">domain</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">default</span>

<span class="c1"># Path to the session secret file containing the master secret to generate</span>
<span class="c1"># session token.</span>
<span class="c1">#</span>
<span class="c1"># Should be generated with the &quot;gen-session-secret&quot; command.</span>
<span class="l l-Scalar l-Scalar-Plain">session-secret</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">sessionsecret.key</span>
</pre></div>


<p>Feel free to change it if some configurations change in your case (the couchdb user, the server parameters or the databases prefix for example).</p>
<blockquote>
<p><strong>Notices:</strong></p>
<ul>
<li>Here the generated session token (step 1) is stored in the <code>sessionsecret.key</code> file of the working directory, this is so the value of the property <code>session-secret</code> at the end of the configuration file.</li>
<li>By default, the local couchdb allow all admin accesses without creating users, so there is no user and password here. But if an admin user has been created, you have to use the properties <code>user</code> and <code>password</code> in the <code>couchdb</code> part to provide these informations.</li>
</ul>
</blockquote>
<p>It&rsquo;s also possible to use env variables for configuration. You can take the key from the configuration file and add the <code>COZY_REGISTRY</code> prefix. For example, you can run:</p>
<div class="codehilite"><pre><span></span><span class="nv">COZY_REGISTRY_PORT</span><span class="o">=</span><span class="m">8081</span> cozy-apps-registry serve
</pre></div>


<p>There is also the <code>REGISTRY_SESSION_PASS</code> env variable for the password for the session secret.</p>
<h3 id="3-run-the-registry-to-serve-the-apps">3) Run the registry to serve the apps<a class="headerlink" href="#3-run-the-registry-to-serve-the-apps" title="Permanent link">&para;</a></h3>
<p>Run the registry using this followed command (here our configuration file is a <code>cozy-registry.yml</code> in the current working directory):</p>
<div class="codehilite"><pre><span></span>cozy-apps-registry serve -c cozy-registry.yml
</pre></div>


<p>At this step, you should have a cozy-apps-registry running and ready for the development.</p>
<p>If you runnig the registry for the first time you can see the next steps to create a new editor and to configure your local <code>cozy-stack</code> to run with this new registry.</p>
<blockquote>
<p>The <code>-c</code> options is always mandatory if you want to specify a config file like here.</p>
</blockquote>
<h3 id="4-create-an-editor">4) Create an editor<a class="headerlink" href="#4-create-an-editor" title="Permanent link">&para;</a></h3>
<p>This step is required to submit new applications in the registry.
In another terminal, run these commands to create an editor (the one that will submit the application(s)) and generate an access token:</p>
<div class="codehilite"><pre><span></span>cozy-apps-registry add-editor Cozy -c cozy-registry.yml
cozy-apps-registry gen-token --master Cozy -c cozy-registry.yml
</pre></div>


<p>Here we go, you have now an registry ready and running on the 8081 port.</p>
<blockquote>
<p>The <code>-c</code> options is always mandatory if you want to specify a config file like here.</p>
</blockquote>
<h3 id="5-configure-cozy-stack-with-the-registry">5) Configure <code>cozy-stack</code> with the registry<a class="headerlink" href="#5-configure-cozy-stack-with-the-registry" title="Permanent link">&para;</a></h3>
<p>On the <code>cozy-stack</code>, you have to add the new registry in the stack configuration file <a href="https://github.com/cozy/cozy-stack/blob/master/docs/config.md#main-configuration-file"><code>cozy.yaml</code></a> (registries property):</p>
<div class="codehilite"><pre><span></span><span class="nn">...</span>
<span class="l l-Scalar l-Scalar-Plain">registries</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">default</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">http://localhost:8081/</span>
<span class="nn">...</span>
</pre></div>


<p>Now restart your local <code>cozy-stack</code> to take this new configuration in consideration (stop and run again <code>cozy-stack serve</code>) and you&rsquo;re ready to work with the <code>cozy-apps-registry</code>!</p>
<h2 id="publish-your-application-on-the-registry">Publish your application on the registry<a class="headerlink" href="#publish-your-application-on-the-registry" title="Permanent link">&para;</a></h2>
<p>If you need more details about the registry you can go to <a href="https://docs.cozy.io/en/cozy-stack/registry/">the official registry documentation</a></p>
<p><strong>:warning: Important:</strong> In this whole documentation, by the term <code>application</code>, we mean a web application or a konnector. Indeed, for the registry, all entities are applications and they can be either <code>webapp</code> or <code>konnector</code> type.</p>
<h3 id="1-prepare-your-application">1) Prepare your application<a class="headerlink" href="#1-prepare-your-application" title="Permanent link">&para;</a></h3>
<p>To be publishable, your application requires some informations in its <code>manifest.webapp</code>, the manifest of a Cozy application.</p>
<p>You can find an example of manifest for an application <a href="https://github.com/cozy/cozy-drive/blob/master/src/drive/targets/manifest.webapp">in Cozy-Drive</a> and one for a konnector <a href="https://github.com/konnectors/cozy-konnector-trainline/blob/master/manifest.konnector">in cozy-konnector-trainline</a>.</p>
<p>Most properties are common to both applications and konnectors but platforms, screenshots, services, routes and intents are only used in applications. Properties oauth, data_types, doctypes, fields, frequency, language, messages, parameters, time_interval, uuid and vendor_link ar only used in konnectors.</p>
<h5 id="properties-meaning-reference">Properties meaning (reference)<a class="headerlink" href="#properties-meaning-reference" title="Permanent link">&para;</a></h5>
<p>Here are all properties meaning for the manifest file (for webapp and konnectors) sorted alphabetically:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>aggregator</code></td>
<td>Object containing aggregator data. Typically <code>{ accountId: 'aggregator-service' }</code>.</td>
</tr>
<tr>
<td><code>categories</code></td>
<td>array of categories for your apps (see authorized categories), it will be <code>['others']</code> by default if empty</td>
</tr>
<tr>
<td><code>data_types</code></td>
<td><em>(konnector specific)</em> Array of the data type the konnector will manage</td>
</tr>
<tr>
<td><code>developer</code></td>
<td><code>name</code> and <code>url</code> for the developer</td>
</tr>
<tr>
<td><code>editor</code></td>
<td>the editor&rsquo;s name to display on the cozy-bar (<strong>REQUIRED</strong>)</td>
</tr>
<tr>
<td><code>fields</code></td>
<td><em>(konnector specific)</em> JSON object describing the fields need by the konnector (<strong>except folder path</strong>). Used to generate a form. See <a href="#konnectors-fields-property">below</a></td>
</tr>
<tr>
<td><code>folders</code></td>
<td><em>(konnector specific)</em> A list of folders required by the konnector to store files according to datatype (see the <a href="#konnectors-folders-handling">specific documentation below</a>)</td>
</tr>
<tr>
<td><code>frequency</code></td>
<td><em>(konnector specific)</em> A human readable value between <code>monthly</code>, <code>weekly</code>, <code>daily</code>, indicating the interval of time between two runs of the konnector. Default: <code>weekly</code>.</td>
</tr>
<tr>
<td><code>icon</code></td>
<td>path to the icon for the home (path in the build)</td>
</tr>
<tr>
<td><code>intents</code></td>
<td><em>(application specific)</em> a list of intents provided by this app (see <a href="https://docs.cozy.io/en/cozy-stack/intents/">cozy-stack intents doc</a> for more details)</td>
</tr>
<tr>
<td><code>langs</code></td>
<td>Languages available in your app (can be different from locales)</td>
</tr>
<tr>
<td><code>language</code></td>
<td><em>(konnector specific)</em> the konnector development language used (ex: <code>node</code>)</td>
</tr>
<tr>
<td><code>license</code></td>
<td><a href="https://spdx.org/licenses/">the SPDX license identifier</a></td>
</tr>
<tr>
<td><code>locales</code></td>
<td>an object with language slug as property, each name property is an object of localized informations (see the second part below)</td>
</tr>
<tr>
<td><code>manifest_version</code></td>
<td>The current manifest version used. This is a versioning for the manifest and allow better retrocompatiblity when processing app manifest</td>
</tr>
<tr>
<td><code>messages</code></td>
<td><em>(konnector specific)</em> Array of message identifiers, which can be used by application to display information at known areas. See <a href="#konnectors-message-property">example below</a>.</td>
</tr>
<tr>
<td><code>name</code></td>
<td>the name to display on the home (<strong>REQUIRED</strong>)</td>
</tr>
<tr>
<td><code>name_prefix</code></td>
<td>the prefix to display with the name</td>
</tr>
<tr>
<td><code>oauth</code></td>
<td><em>(konnector specific)</em> JSON object containing oAuth information, like <code>scope</code>. If a manifest provides an <code>oauth</code> property, it is considered as an OAuth konnector. Note: scope can be a string or an array. If it is an array, its values will be joined with a space. A <code>false</code> or <code>null</code> value in scope will remove any scope parameter in the request sent to the oauth provider.</td>
</tr>
<tr>
<td><code>parameters</code></td>
<td><em>(konnector specific)</em> Additional parameters which should be passed to the konnector. Used for example for bank konnectors to pass a <code>bankId</code> parameter.</td>
</tr>
<tr>
<td><code>partnership</code></td>
<td>an object to provide informations (to display in the Store for example) about a partnership related to the application (<code>icon</code> <code>description</code>, <code>name</code> and <code>domain</code>). It can also be used to trigger alternative konnector connection policies for some vendors (see the <a href="https://github.com/cozy/cozy-libs/blob/065f7e2f3e89efa3b6b49e4ba7f9e20f92825560/packages/cozy-harvest-lib/src/services/budget-insight.js#L123">budget-insight konnector policy in cozy-harvest</a>).</td>
</tr>
<tr>
<td><code>permissions</code></td>
<td>a map of permissions needed by the app (see <a href="https://docs.cozy.io/en/cozy-stack/permissions/">see cozy-stack permissions doc </a> for more details)</td>
</tr>
<tr>
<td><code>platforms</code></td>
<td><em>(application specific)</em> List of objects for platform native applications. For now there are only two properties: <code>type</code> (i.e. <code>'ios'</code> or <code>'linux'</code>) and the optional <code>url</code> to reach this application page.</td>
</tr>
<tr>
<td><code>routes</code></td>
<td><em>(application specific)</em> a map of routes for the app (see <a href="https://docs.cozy.io/en/cozy-stack/apps/#routes">cozy-stack routes doc</a> for more details) (<strong>REQUIRED</strong>)</td>
</tr>
<tr>
<td><code>screenshots</code></td>
<td>an array of paths to the screenshots of the application (paths in the build)</td>
</tr>
<tr>
<td><code>services</code></td>
<td><em>(application specific)</em> a map of the services associated with the app (see <a href="https://docs.cozy.io/en/cozy-stack/apps/#services">cozy-stack services doc</a> for more details)</td>
</tr>
<tr>
<td><code>slug</code></td>
<td>the default slug that should never change (alpha-numeric lowercase) (<strong>REQUIRED</strong>)</td>
</tr>
<tr>
<td><code>source</code></td>
<td>where the files of the app can be downloaded (by default it will look for the branch <code>build</code>)</td>
</tr>
<tr>
<td><code>terms</code></td>
<td>an object defining  properties for terms that need to be displayed/accepted by the user when installing the application (<a href="#application-terms">more-info-below</a>)</td>
</tr>
<tr>
<td><code>time_interval</code></td>
<td><em>(konnector specific)</em> By defaults, konnector triggers are scheduled randomly between 00:00 AM and 05:00 AM. Those two values can be overwritten thanks to this property, by passing an array containing two values: first is the interval start hour, second is the interval end hour. Example: <code>[15, 21]</code> will randomly schedule the konnector trigger between 15:00 (03:00 PM) and 21:00 (09:00 PM). The time zone used is GMT.</td>
</tr>
<tr>
<td><code>type</code></td>
<td>type of application (<code>konnector</code> or <code>webapp</code>) (<strong>REQUIRED</strong>)</td>
</tr>
<tr>
<td><code>version</code></td>
<td>the current version number (<strong>REQUIRED</strong>)</td>
</tr>
<tr>
<td><code>vendor_link</code></td>
<td><em>(konnector specific)</em> URL to editor or service website</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Notices:</strong></p>
<ul>
<li>All images paths (<code>icon</code>, <code>partnership.icon</code> and <code>screenshots</code>) should be relative to the build directory. For example, here, the <code>icon.svg</code> is stored in the build root directory and all <code>screenshots</code> are store in a folder <code>screenshots</code> in the build directory. Therefore, if you use a bundler (like webpack) be sure to know exactly where the bundler will store these assets in the build directory (and change it in the manifest if needed).</li>
<li>All properties in <code>locales</code> objects will override the matched property of the main <code>manifest.webapp</code> body, if a property is not found in <code>locales</code> it will fallback to the main body one.</li>
<li>We use to have the <code>en</code> locale as default one if the one wanted by the user doesn&rsquo;t exist. Be sure to have, at least, that locale complete with the name and all descriptions.</li>
<li>In your build files, this <code>manifest.webapp</code> file must be at the root.</li>
</ul>
</blockquote>
<h5 id="translated-manifest-fields">Translated manifest fields<a class="headerlink" href="#translated-manifest-fields" title="Permanent link">&para;</a></h5>
<p>Here are the properties that you can override using <code>locales</code> (we recommand to automatically build these properties according to your locales files if you&rsquo;re using a translating tool like <code>transifex</code>):</p>
<ul>
<li><code>name</code>, the app&rsquo;s name</li>
<li><code>short_description</code>, short description of what the app do</li>
<li><code>long_description</code>, longer and more complete description of the app behaviour</li>
<li><code>changes</code>, description of your new version of the konnector or all changes since the last version</li>
<li><code>fields</code>, An object containing translations for fields.</li>
<li><code>screenshots</code></li>
<li><code>folders</code></li>
</ul>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;email&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;locales&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;en&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;short_description&quot;</span><span class="p">:</span> <span class="s2">&quot;Collect your Orange&#39;s bills&quot;</span><span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Identifier (your email)&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">&quot;fr&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;short_description&quot;</span><span class="p">:</span> <span class="s2">&quot;Récupère vos factures Orange&quot;</span><span class="p">,</span>
      <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;Identifiant (votre adresse mail)&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h5 id="application-terms">Application terms<a class="headerlink" href="#application-terms" title="Permanent link">&para;</a></h5>
<p>You can provide a related <code>terms</code> property if you want to display and make the user accept some terms (ToS for example) just before installing the application. Here are all properties allowed and used:</p>
<ul>
<li><code>url</code>, the URL of the terms/contract to redirect the user to (<strong>REQUIRED</strong>)</li>
<li><code>version</code>: A specific version of the terms, we need it handle terms updates and ask the user again to accept the update. The special characters <code>[*+~.()'"!:@]</code> are not allowed here. (<strong>REQUIRED</strong>)</li>
<li><code>id</code>: An id for the terms. When accepting terms, we store in <code>io.cozy.terms</code>, a document containing the <code>id</code> and <code>version</code> so that we know which terms have been accepted, and show the user a modal if the terms have not been accepted yet. The special characters <code>[*+~.()'"!:@]</code> are not allowed here. (<strong>REQUIRED</strong>)</li>
</ul>
<h5 id="konnectors-folders-handling">Konnectors folders handling<a class="headerlink" href="#konnectors-folders-handling" title="Permanent link">&para;</a></h5>
<p>The <code>folders</code> property is a list of objects with these following properties:</p>
<ul>
<li>
<p><code>defaultDir</code>: (<strong>REQUIRED</strong>) The default root directory of your folder. In this folder will automatically be created a subfolder with the konnector name and into this latter a subfolder with the account name to store the related files. Here you can use some variables in the path like the following:</p>
<ul>
<li><code>$administrative</code>: Folder which will receive all administrative related files (bills, contracts, invoices&hellip;)</li>
<li><code>$photos</code>: Folder which will receive all photos</li>
<li><code>$konnector</code>: The name of the konnector</li>
</ul>
<blockquote>
<p>:warning: All paths provided using <code>defaultDir</code> will be the root directory, not the final folder which will receive the files. For example, if you set <code>$photos</code>, the final folder will be <code>$photos/$konnector/$account</code> in order to keep them always sorted by konnectors and accounts.</p>
</blockquote>
</li>
</ul>
<h5 id="konnectors-fields-property">Konnectors fields property<a class="headerlink" href="#konnectors-fields-property" title="Permanent link">&para;</a></h5>
<p>The <code>fields</code> property is a JSON object describing the input fields needed to generate the konnector&rsquo;s configuration form. A typical example will be:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;identifier&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;text&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;secret&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;password&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>The keys of the <code>fields</code> object are the name/id of the fields. They will be passed as parameters to the konnector at every run.</p>
<p>Each fields may also have the following properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>identifier</td>
<td>(Boolean) indicating if the field is the main identifier. By default, the <code>login</code> field is the identifier. Default value is false and there can be only one identifier</td>
</tr>
<tr>
<td>advanced</td>
<td>Indicates if the field should be displayed in the &ldquo;advanced&rdquo; area of the form (default: <code>false</code>)</td>
</tr>
<tr>
<td>default</td>
<td>Default value. It can a string for a text field, or an object for a select field (<code>"default": {"value": "foo","name": "bar"},</code>)</td>
</tr>
<tr>
<td>description</td>
<td>Field description, as a locale key.</td>
</tr>
<tr>
<td>label</td>
<td>Predefined label. This value must match a locale key provided by Cozy-Home. Example: With <code>label: "identifier"</code>, Cozy-Home will use the locale key <code>account.form.label.identifier</code>. Translations for these fields use the <code>locales</code> property in the manifest.</td>
</tr>
<tr>
<td>max</td>
<td>Maximum length of the value (number of characters)</td>
</tr>
<tr>
<td>min</td>
<td>Minimum length of the value (number of characters)</td>
</tr>
<tr>
<td>options</td>
<td>When the field is a dropdown, list of available options</td>
</tr>
<tr>
<td>pattern</td>
<td>Define a regex used to validate the field.</td>
</tr>
<tr>
<td>isRequired</td>
<td>Boolean indicating if the field is required or not (default <code>true</code>)</td>
</tr>
<tr>
<td>type</td>
<td><em>Required</em>. Field type from <code>dropdown</code>, <code>email</code>, <code>hidden</code>, <code>password</code>, <code>text</code>, <code>checkbox</code>.</td>
</tr>
</tbody>
</table>
<h5 id="konnectors-message-property">Konnectors message property<a class="headerlink" href="#konnectors-message-property" title="Permanent link">&para;</a></h5>
<p>Messages are a common way to provide custom information to display in application. An app like cozy-home should have some specific area to display custom messages provided by the konnector.</p>
<p>Example:</p>
<div class="codehilite"><pre><span></span>  <span class="c1">// The final example will be available after the implementation of the whole mechanism,</span>
  <span class="c1">// but here is the global idea:</span>
  <span class="p">{</span><span class="nx">installSuccess</span> <span class="o">&amp;&amp;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;{</span><span class="nx">t</span><span class="p">(</span><span class="s1">&#39;home.konnector.install.success.message&#39;</span><span class="p">)}&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  <span class="p">}</span>
  <span class="p">{</span><span class="nx">installSuccess</span> <span class="o">&amp;&amp;</span> <span class="nx">konnector</span><span class="p">.</span><span class="nx">manifest</span><span class="p">.</span><span class="nx">messages</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="s1">&#39;success_message&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;{</span><span class="nx">t</span><span class="p">(</span><span class="s1">&#39;konnector.manifest.locales.messages.success_message&#39;</span><span class="p">)}</span>
  <span class="p">}</span>
</pre></div>


<h5 id="categories-and-data-types">Categories and Data types<a class="headerlink" href="#categories-and-data-types" title="Permanent link">&para;</a></h5>
<p>Categories are slugs from the following list:
* <code>energy</code>
* <code>insurance</code>
* <code>isp</code>
* <code>shopping</code>
* <code>telecom</code>
* <code>transport</code>
* <code>banking</code>
* <code>health</code>
* <code>host_provider</code>
* <code>online_services</code>
* <code>partners</code>
* <code>press</code>
* <code>productivity</code>
* <code>public_service</code>
* <code>social</code></p>
<p>Data types are slugs from the following list:
* <code>activity</code>
* <code>appointment</code>
* <code>bankTransactions</code>
* <code>bankAccounts</code>
* <code>bill</code>
* <code>bloodPressure</code>
* <code>calendar</code>
* <code>certificate</code>
* <code>commit</code>
* <code>consumption</code>
* <code>contact</code>
* <code>contract</code>
* <code>courseMaterial</code>
* <code>document</code>
* <code>event</code>
* <code>family</code>
* <code>geopoint</code>
* <code>heartbeat</code>
* <code>home</code>
* <code>phonecommunicationlog</code>
* <code>podcast</code>
* <code>profile</code>
* <code>refund</code>
* <code>sinister</code>
* <code>sleepTime</code>
* <code>stepsNumber</code>
* <code>temperature</code>
* <code>travelDate</code>
* <code>tweet</code>
* <code>videostream</code>
* <code>weight</code></p>
<h3 id="2-add-a-new-application-in-the-registry">2) Add a new application in the registry<a class="headerlink" href="#2-add-a-new-application-in-the-registry" title="Permanent link">&para;</a></h3>
<h4 id="our-official-apps-registry">Our official apps registry<a class="headerlink" href="#our-official-apps-registry" title="Permanent link">&para;</a></h4>
<p>Official registry URL: <code>https://apps-registry.cozycloud.cc</code></p>
<p>In order to use our official repository, you need a token for a specific
editor. To do so, contact us directly at the address contact@cozycloud.cc
with a mail using the following title prefix: <code>[registry]</code> and provide us these folowing information (not changeable after):
- <code>slug</code> of your application
- <code>editor</code> name that you want</p>
<p>We will provide you with the correct token.</p>
<h4 id="custom-registry">Custom registry<a class="headerlink" href="#custom-registry" title="Permanent link">&para;</a></h4>
<p>See the details below to know how to add a new application in a custom <code>cozy-apps-registry</code> instance (local or not).
<details></p>
<blockquote>
<p><strong>Prequisites</strong>:
- For this step, you will need your editor token access generated when you created your editor (see <a href="#4-create-an-editor">below</a>). You have to replace all <code>{{EDITOR_TOKEN}}</code> in this documentation by this token.
- The communication with the registry is done through HTTP requests for now. So we will use the <code>curl</code> command line tool to register our application here.</p>
</blockquote>
<p>Now you can add your application in the registry. This step is splitted in two septs:
  - Add a new application (without versions)
  - Add a version of the application</p>
<p><strong>:pushpin: A new application without registered version won&rsquo;t be displayed by the <a href="https://github.com/cozy/cozy-store"><code>cozy-store</code> application</a>.</strong></p>
<p>To add a new application, you have to do a <code>POST</code> request which all the informations needed to the route <code>registryAddress/registry</code>
with <code>registryAddress</code> your registry address (for example here <code>http://localhost:8081</code>).</p>
<p>Let&rsquo;s add the Collect application as example:</p>
<div class="codehilite"><pre><span></span><span class="c1"># {{EDITOR_TOKEN}} -&gt; your generated editor access token</span>
curl -X <span class="s2">&quot;POST&quot;</span> <span class="s2">&quot;http://localhost:8081/registry&quot;</span> <span class="se">\</span>
     -H <span class="s2">&quot;Authorization: Token {{EDITOR_TOKEN}}&quot;</span> <span class="se">\</span>
     -H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
     -d <span class="s1">$&#39;{</span>
<span class="s1">  &quot;slug&quot;: &quot;collect&quot;,</span>
<span class="s1">  &quot;type&quot;: &quot;webapp&quot;,</span>
<span class="s1">  &quot;editor&quot;: &quot;{{EDITOR}}&quot;</span>
<span class="s1">}&#39;</span>
</pre></div>


<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>slug</td>
<td>your application unique ID</td>
</tr>
<tr>
<td>type</td>
<td>kind of application (it can be only <code>webapp</code> or <code>konnector</code>)</td>
</tr>
<tr>
<td>editor</td>
<td>Name of the editor matching the <code>{{EDITOR_TOKEN}}</code></td>
</tr>
</tbody>
</table>
<p><strong>:warning: Here the <code>slug</code> is the unique ID of the application in the registry, so it can&rsquo;t be changed after the application is already registered.</strong>
</details></p>
<h3 id="3-add-a-new-version-of-a-registered-application">3) Add a new version of a registered application<a class="headerlink" href="#3-add-a-new-version-of-a-registered-application" title="Permanent link">&para;</a></h3>
<h4 id="via-cozy-app-publish-highly-recommanded">Via <a href="https://github.com/cozy/cozy-app-publish"><code>cozy-app-publish</code></a> (highly recommanded)<a class="headerlink" href="#via-cozy-app-publish-highly-recommanded" title="Permanent link">&para;</a></h4>
<p><strong>Here we will show the classical way to add a version using the manual mode of <a href="https://github.com/cozy/cozy-app-publish"><code>cozy-app-publish</code></a> as reference. But you may need to look at  the <a href="#automation-ci">Automation CI part</a> of this documentation instead.</strong></p>
<blockquote>
<p><strong>Prequisites</strong>:</p>
<ul>
<li>For this step, you will need your editor token access generated when you created your editor (see <a href="#4-create-an-editor">below</a>). You have to replace all <code>{{EDITOR_TOKEN}}</code> in this documentation by this token.</li>
<li>Don&rsquo;t forget to build your application first (run <code>yarn build</code>), <code>cozy-app-publish</code> will read the manifest from your build</li>
</ul>
</blockquote>
<p>Firstly, install the <a href="https://github.com/cozy/cozy-app-publish"><code>cozy-app-publish</code></a> package using
 <code>yarn</code> or <code>npm</code>:</p>
<div class="codehilite"><pre><span></span>yarn add cozy-app-publish --dev
</pre></div>


<blockquote>
<p>You can also install the package as a global package, but don&rsquo;t forget to update it frequently</p>
</blockquote>
<p>Then use it to publish your application, here is an example for <code>collect</code>:</p>
<div class="codehilite"><pre><span></span><span class="x">yarn cozy-app-publish \</span>
<span class="x">--token </span><span class="cp">{{</span><span class="nv">EDITOR_TOKEN</span><span class="cp">}}</span><span class="x"> \</span>
<span class="x">--build-url https://github.com/cozy/cozy-collect/archive/042cef26d9d33ea604fe4364eaab569980b500c9.tar.gz \</span>
<span class="x">--manual-version 1.0.2-dev.042cef26d9d33ea604fe4364eaab569980b500c9</span>
</pre></div>


<p>If you need more information about this tool, you can go to the official <a href="https://github.com/cozy/cozy-app-publish"><code>cozy-app-publish</code> documentation</a>.</p>
<h4 id="via-curl">Via <code>curl</code><a class="headerlink" href="#via-curl" title="Permanent link">&para;</a></h4>
<p><strong>Here we will show the classical way to add a version using <code>curl</code> as reference. But you may need to look at our dedicated tool <a href="https://github.com/cozy/cozy-app-publish"><code>cozy-app-publish</code></a> or the <a href="#automation-ci">Automation CI part</a> of this documentation instead.</strong></p>
<blockquote>
<p><strong>Prequisites</strong>:
- For this step, you will need your editor token access generated when you created your editor (see <a href="#4-create-an-editor">below</a>). You have to replace all <code>{{EDITOR_TOKEN}}</code> in this documentation by this token.
- The communication with the registry is done through HTTP requests for now. So we will use the <code>curl</code> command line tool to register our application here.</p>
</blockquote>
<p>To add a new application, you have to do a <code>POST</code> request which all the informations needed to the route <code>registryAddress/registry/:appSlug</code>
with <code>registryAddress</code> your registry address (for example here <code>http://localhost:8081</code>), <code>:appName</code> your application slug (here <code>drive</code>).</p>
<p>Let&rsquo;s add the version 1.0.1 of the Collect application as example:</p>
<div class="codehilite"><pre><span></span><span class="c1"># {{EDITOR_TOKEN}} -&gt; your generated editor access token</span>
curl -X <span class="s2">&quot;POST&quot;</span> <span class="s2">&quot;http://localhost:8081/registry/collect&quot;</span> <span class="se">\</span>
     -H <span class="s2">&quot;Authorization: Token {{EDITOR_TOKEN}}&quot;</span> <span class="se">\</span>
     -H <span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
     -d <span class="s1">$&#39;{</span>
<span class="s1">  &quot;url&quot;: &quot;https://github.com/cozy/cozy-collect/archive/1.0.1.tar.gz&quot;,</span>
<span class="s1">  &quot;sha256&quot;: &quot;96212bf53ab618808da0a92c7b6d9f2867b1f9487ba7c1c29606826b107041b5&quot;,</span>
<span class="s1">  &quot;version&quot;: &quot;1.0.1&quot;,</span>
<span class="s1">  &quot;type&quot;: &quot;webapp&quot;,</span>
<span class="s1">  &quot;editor&quot;: &quot;{{EDITOR}}&quot;</span>
<span class="s1">}&#39;</span>
</pre></div>


<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>url</td>
<td>the archive source of your application, it will be downloaded and checked with the sha256 property</td>
</tr>
<tr>
<td>sha256</td>
<td>the sha256 hash of your source archive matching the archive in <code>url</code> (see the notice below)</td>
</tr>
<tr>
<td>version</td>
<td>version of the application, must match the one in the manifest (see the notice below)</td>
</tr>
<tr>
<td>type</td>
<td>kind of application (it can be only <code>webapp</code> or <code>konnector</code>)</td>
</tr>
<tr>
<td>editor</td>
<td>Name of the editor matching the <code>{{EDITOR_TOKEN}}</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>:warning: Important notices:</strong></p>
<ul>
<li>The version must match the one in the <code>manifest.webapp</code> file for stable release. For beta (X.X.X-betaX) or dev releases (X.X.X-dev.hash256), the version before the cyphen must match the one in the <code>manifest.webapp</code>.</li>
<li>For better integrity, the <code>sha256</code> provided must match the sha256 of the archive provided in <code>url</code>. If it&rsquo;s not the case, that will be considered as an error and the version won&rsquo;t be registered.</li>
</ul>
</blockquote>
<h3 id="spaces-virtual-spaces">Spaces &amp; Virtual Spaces<a class="headerlink" href="#spaces-virtual-spaces" title="Permanent link">&para;</a></h3>
<h4 id="spaces">Spaces<a class="headerlink" href="#spaces" title="Permanent link">&para;</a></h4>
<p>You can divide your applications between several isolated places, called
<code>spaces</code>.</p>
<p>When an application and its versions are published in a <code>space</code>, they are only
reachable in that one (you can consider a <code>space</code> like a entire sub-part of the
registry). It is espacially useful for splitting up applications by logical
topics.</p>
<p>Most of the CLI and API endpoints have a <code>space</code> option. You can refer to the
documentation or CLI help to view all available parameters.</p>
<h5 id="create-a-space">Create a space<a class="headerlink" href="#create-a-space" title="Permanent link">&para;</a></h5>
<p>Spaces are defined in the config file and are automatically created during registry
launching.</p>
<p>Add a <code>space</code> entry, followed by your spaces names, and let the registry do the work:</p>
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">spaces</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">__default__ myspace foospace</span>
</pre></div>


<h5 id="remove-a-space">Remove a space<a class="headerlink" href="#remove-a-space" title="Permanent link">&para;</a></h5>
<p>To remove a space, you have to clean all the remaining apps &amp; versions before removing the <code>space</code> entry name.</p>
<p>A CLI is available for the job:</p>
<div class="codehilite"><pre><span></span>$ cozy-apps-registry rm-space &lt;your-space&gt;
</pre></div>


<p>Example:</p>
<div class="codehilite"><pre><span></span>$ cozy-apps-registry rm-space foobar
Warning: You are going to remove space foobar and all its applications. This action is irreversible.
Please enter the space name to confirm: foobar
Removing app1/0.7.3-dev.f26bf2b8db3da459071a074a1367ce36e78bb34c
Removing app1/0.7.3-dev.cf1efba4c1b6dd08bb5857f5752790f0d2663d6d
Removing app1/0.7.3-dev.0bbd57a6ce50af82cfbefb8c231fbfe04516e742
Removing app1/0.7.3-dev.21338229a0c2317dc0f3b94e92b22a367f84c537
Removing app1/0.7.3-dev.08ab3624136fb70dc996003aebc3049af51f7438
Removing app1/0.7.3-dev.4e9d174a3b01acaf8a44b561455efc3f34871142
Removing app1/0.7.3-dev.b2654bf00be393aa611fcbb7f70a8ef671895a84
Removing app1/0.7.3-dev.860861868a5dfe294c7120d81fa9feb5387bb57f
Removing app2/0.1.9-dev.954dac9e12e080d591cb76591c311611fed1bea9
</pre></div>


<p>You can now delete the name from your config file.</p>
<h4 id="virtual-spaces">Virtual Spaces<a class="headerlink" href="#virtual-spaces" title="Permanent link">&para;</a></h4>
<p>A <code>virtual space</code> is necessarily built over an existing <code>space</code>. It allows to
filter by selecting or rejecting applications available on the underlying space.</p>
<blockquote>
<p>:warning: Please note that it is not possible to publish applications or
versions on a <code>virtual space</code>.</p>
</blockquote>
<p>It is possible to change the name of an application in the virtual space,
without changing it in the underlying space, with the <code>cozy-apps-registry
overwrite-app-name</code> command. The same thing is possible for the icon with
<code>cozy-apps-registry overwrite-app-icon</code>. And the maintenance status can also
be changed in the virtual space with the <code>cozy-apps-registry maintenance</code>
commands. That&rsquo;s all for the moment.</p>
<h3 id="automation-ci">Automation (CI)<a class="headerlink" href="#automation-ci" title="Permanent link">&para;</a></h3>
<p>The following tutorial explains how to connect your continuous integration
based on Travis to automatically publish new versions on the apps registry.</p>
<p>In this tutorial, we assume:</p>
<ul>
<li>you have a token allowing you to publish applications for your <code>editor</code>:
    <code>{{EDITOR_TOKEN}}</code></li>
<li>you are working on a repository plugged on travis and named on github
    <code>myname/cozy-example</code></li>
</ul>
<p>You first need to add the token to your travis configuration file
<code>.travis.yml</code>. To do so, you need the <a href="https://github.com/travis-ci/travis.rb#installation"><code>travis</code> utility</a> to encrypt its value.</p>
<div class="codehilite"><pre><span></span>$ travis encrypt <span class="nv">REGISTRY_TOKEN</span><span class="o">={{</span>EDITOR_TOKEN<span class="o">}}</span> -r myname/cozy-example --org
Please add the following to your .travis.yml file:

  secure: <span class="s2">&quot;jUAjk..LOOOOONG_ENCRYPTED_STRING.....jdk89=&quot;</span>
</pre></div>


<p>Like said, you need to add this block of ciphered data in the <code>.travis.yml</code> (if it&rsquo;s not already done automatically).
This will allow you to use the <code>REGISTRY_TOKEN</code> variable in your deployment
script.</p>
<p>Then, you can add the publish script in your <code>package.json</code> in order to be used by Travis:</p>
<div class="codehilite"><pre><span></span><span class="err">...</span>
<span class="s2">&quot;publish:cozy&quot;</span><span class="err">:</span> <span class="s2">&quot;git fetch origin ${DEPLOY_BRANCH:-build}:${DEPLOY_BRANCH:-build} &amp;&amp; cozy-app-publish --token $REGISTRY_TOKEN --build-commit $(git rev-parse ${DEPLOY_BRANCH:-build})&quot;</span>
<span class="err">...</span>
</pre></div>


<blockquote>
<p>This script will fetch your last commit from the <code>build</code> branch to publish to the registry. If you push a tag, be sure to wait the last <code>build</code> branch Travis build finished in order to have the real last commit to publish.</p>
</blockquote>
<p>Finally, you can add this script to your <code>.travis.yml</code> to publish your app using our publishing tool <a href="https://github.com/cozy/cozy-app-publish"><code>cozy-app-publish</code></a> during the <code>deploy</code> process:</p>
<div class="codehilite"><pre><span></span>...
before_deploy:
- yarn add cozy-app-publish
deploy:
  - provider: script
    repo: myname/cozy-example
    skip-cleanup: true
    script: export DEPLOY_BRANCH=build &amp;&amp; yarn deploy &amp;&amp; yarn publish:cozy
    on:
      branch: master
  - provider: script
    repo: myname/cozy-example
    skip-cleanup: true
    script: export DEPLOY_BRANCH=build &amp;&amp; yarn publish:cozy
    on:
      tags: true
...
</pre></div>


<blockquote>
<p><strong>Important notices:</strong></p>
<ul>
<li>A commit push to the branch master will publish your application in the <code>dev</code> channel of the registry.</li>
<li>A tag push (Github release) will publish a stable version (ex: <code>1.0.0</code>) or a beta version (ex: <code>1.0.1-beta2</code>) to the registry (automatically handled by the registry).</li>
<li><a href="https://github.com/cozy/cozy-app-publish"><code>cozy-app-publish</code></a> will use the github archive URL computing to get the application tarball. If your applicaiton is not on Github, you may need to use the manual mode of the command.</li>
</ul>
</blockquote>
<h2 id="access-control-and-tokens">Access control and tokens<a class="headerlink" href="#access-control-and-tokens" title="Permanent link">&para;</a></h2>
<p>The read-only routes of the registry are all public and do not require any
access-control. However routes allowing to create applications and versions have
access-control policies associated to them.</p>
<p>The registry has two types of access permissions, that are associated to two
different tokens:</p>
<ul>
<li><strong>editor tokens</strong>: these tokens give access to the publication of new versions
    on the registry, for a specific editor name, at these conditions:<ul>
<li>the version&rsquo;s application must already exist in the registry</li>
<li>the version&rsquo;s application must have the same &ldquo;editor&rdquo; value as the token</li>
</ul>
</li>
<li><strong>master tokens</strong>: these tokens are allowed to create and register new
    applications on the registry, and associate them with an existing editor
    name. They also have the same accesses as the editor tokens.</li>
</ul>
<p>Editor tokens can be specific to one or more applications names that they are
allowed to publish.</p>
<p>In order to create tokens, the binary offers a <code>gen-token</code> command-line. Here
are some examples to illustrates some usages:</p>
<div class="codehilite"><pre><span></span><span class="c1"># Generating tokens</span>
  <span class="c1"># generate an editor token for the editor &quot;cozy&quot;, for any application</span>
  $ cozy-apps-registry gen-token cozy
  <span class="c1"># generate an editor token for the editor &quot;cozy&quot; expiring after 30 days</span>
  $ cozy-apps-registry gen-token cozy --max-age 30d
  <span class="c1"># generate an editor token for the editor &quot;cozy&quot; for application &quot;collect&quot; and &quot;drive&quot;</span>
  $ cozy-apps-registry gen-token cozy --apps collect,drive
  <span class="c1"># generate a master token associated with the editor &quot;cozy&quot; expiring after 30 days</span>
  $ cozy-apps-registry gen-token cozy --master --max-age 30d

<span class="c1"># Verifying tokens</span>
  <span class="c1"># verify the editor token &quot;XXX&quot; for the editor &quot;cozy&quot;</span>
  $ cozy-apps-registry verify-token cozy <span class="s2">&quot;XXX&quot;</span>
  <span class="c1"># verify the master token &quot;XXX&quot; associated with the editor &quot;cozy&quot;</span>
  $ cozy-apps-registry verify-token cozy <span class="s2">&quot;XXX&quot;</span> --master

<span class="c1"># Revoking tokens</span>
  <span class="c1"># revoke all editors tokens for the cozy editor</span>
  $ cozy-apps-registry revoke-tokens cozy
  <span class="c1"># revoke all master tokens associated with the cozy editor</span>
  $ cozy-apps-registry revoke-tokens cozy --master
</pre></div>


<h2 id="maintenance">Maintenance<a class="headerlink" href="#maintenance" title="Permanent link">&para;</a></h2>
<p>In order to set/unset an application into maintenance mode, the binary offers
a <code>maintenance</code> command-line. Here are some examples of how to use it:</p>
<div class="codehilite"><pre><span></span><span class="c1"># Activate maintenance mode for the application &#39;bank&#39; of space &#39;myspace&#39;</span>
<span class="c1"># Available flagged options:</span>
<span class="c1">#  --infra            specify a maintenance specific to our infra</span>
<span class="c1">#  --no-manual-exec   specify a maintenance disallowing manual execution</span>
<span class="c1">#  --short            specify a short maintenance</span>
$ cozy-apps-registry maintenance activate bank --space myspace

<span class="c1"># Deactivate maintenance mode for the application &#39;bank&#39; of space &#39;myspace&#39;</span>
$ cozy-apps-registry maintenance deactivate bank --space myspace
</pre></div>


<p>Or using a cURL request and a master token:</p>
<div class="codehilite"><pre><span></span>curl -XPUT <span class="se">\</span>
  -H<span class="s2">&quot;Authorization: Token </span><span class="nv">$COZY_REGISTRY_ADMIN_TOKEN</span><span class="s2">&quot;</span> <span class="se">\</span>
  -H<span class="s2">&quot;Content-Type: application/json&quot;</span> <span class="se">\</span>
  -d<span class="s1">&#39;{&quot;flag_infra_maintenance&quot;: false,&quot;flag_short_maintenance&quot;: false,&quot;flag_disallow_manual_exec&quot;: false,&quot;messages&quot;: {&quot;fr&quot;: {&quot;long_message&quot;: &quot;Bla bla bla&quot;,&quot;short_message&quot;: &quot;Bla&quot;},&quot;en&quot;: {&quot;long_message&quot;: &quot;Yadi yadi yada&quot;,&quot;short_message&quot;: &quot;Yada&quot;}}}&#39;</span> <span class="se">\</span>
  https://apps-registry.cozycloud.cc/myspace/registry/maintenance/bank/activate

curl -XPUT <span class="se">\</span>
  -H<span class="s2">&quot;Authorization: Token </span><span class="nv">$COZY_REGISTRY_ADMIN_TOKEN</span><span class="s2">&quot;</span> <span class="se">\</span>
  https://apps-registry.cozycloud.cc/registry/maintenance/bank/deactivate
</pre></div>


<h2 id="importexport">Import/export<a class="headerlink" href="#importexport" title="Permanent link">&para;</a></h2>
<p>CouchDB &amp; Swift can be exported into a single archive with <code>cozy-apps-registry export &lt;dump.tar.gz&gt;</code>.
Registry data are exported as below:</p>
<ul>
<li><code>registry/couchdb/{db}/{uuid}.json</code>: CouchDB document exported as JSON</li>
<li><code>registry/swift/{file/path}</code>: Swift document, with the following tar custom metadata<ul>
<li><code>COZY.content-type</code>: associated content type</li>
</ul>
</li>
</ul>
<p>The generated archive can be imported with <code>cozy-apps-registry import -d &lt;dump.tar.gz&gt;</code>.
The <code>-d</code> option will drop CouchDB databases and Swift containers related to declared spaces on the registry configuration.</p>
<h2 id="application-confidence-grade-labelling">Application confidence grade / labelling<a class="headerlink" href="#application-confidence-grade-labelling" title="Permanent link">&para;</a></h2>
<p>The confidence grade of an applications can be specified by specifying the
<code>data_usage_commitment</code> and <code>data_usage_commitment_by</code> fields of the
application document.</p>
<p>Possible values for these properties are:</p>
<ul>
<li><code>data_usage_commitment</code>: specify a technical commitment from the
  application editor:</li>
<li><code>user_ciphered</code>: technical commitment that the user&rsquo;s data is encrypted
    and can only be known by him.</li>
<li><code>user_reserved</code>: commitment that the data is only used for the user, to
    directly offer its service.</li>
<li><code>none</code>: no commitment</li>
<li><code>data_usage_commitment_by</code>: specify what entity is taking the commitment:</li>
<li><code>cozy</code>: the commitment is taken by cozy</li>
<li><code>editor</code>: the commitment is taken by the application&rsquo;s editor</li>
<li><code>none</code>: no commitment is taken</li>
</ul>
<p>To do that, a command line and admin API are available, and be used as follow:</p>
<div class="codehilite"><pre><span></span>$ cozy-apps-registry modify-app banks --space my_space --data-usage-commitment user_reserved --data-usage-commitment-by editor
</pre></div>


<p>Or using a cURL request and a master token:</p>
<div class="codehilite"><pre><span></span>curl -XPATCH \
  -H&quot;Authorization: Token $COZY_REGISTRY_ADMIN_TOKEN&quot; \
  -H&quot;Content-Type: application/json&quot; \
  -d&#39;{&quot;data_usage_commitment&quot;: &quot;user_reserved&quot;, &quot;data_usage_commitment_by&quot;: &quot;editor&quot;}
  https://apps-registry.cozycloud.cc/my_space/registry/banks
</pre></div>


<h2 id="universal-links">Universal links<a class="headerlink" href="#universal-links" title="Permanent link">&para;</a></h2>
<p>The registry can manage <a href="https://developer.apple.com/ios/universal-links/">Universal links</a>.</p>
<h3 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h3>
<h4 id="config-file">Config file<a class="headerlink" href="#config-file" title="Permanent link">&para;</a></h4>
<p>Each space holds its own files. The space determination is based on the request host, so you must bind a domain to a space in the config file.</p>
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">domain_space</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">mycloud.com</span><span class="p p-Indicator">:</span> <span class="s">&quot;__default__&quot;</span>
  <span class="l l-Scalar l-Scalar-Plain">cloud.foobar.com</span><span class="p p-Indicator">:</span> <span class="s">&quot;foobar&quot;</span>
</pre></div>


<h4 id="files">Files<a class="headerlink" href="#files" title="Permanent link">&para;</a></h4>
<p>Place your files (e.g <code>apple-app-site-association</code>) in the space container. The file must be prepended with <code>universallink/</code></p>
<blockquote>
<p>For the <code>foobar</code> space and file <code>apple-app-site-association</code>, the file has to be named
<code>universallink/apple-app-site-association</code> and placed in the <code>foobar</code> container</p>
</blockquote>
<h3 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h3>
<p>The following endpoint is available to get any file:</p>
<blockquote>
<p><code>http://&lt;yourdomain&gt;/.well-known/:filename</code></p>
</blockquote>
<p>You can now query your endpoint to get your file:</p>
<div class="codehilite"><pre><span></span>curl -X GET http://cloud.foobar.com/.well-known/apple-app-site-association
<span class="o">{</span>
  <span class="s2">&quot;applinks&quot;</span>: <span class="o">{</span>
    <span class="s2">&quot;apps&quot;</span>: <span class="o">[]</span>,
    <span class="s2">&quot;details&quot;</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">&quot;appID&quot;</span>: <span class="s2">&quot;3AKXFMV43J.io.cozy.drive.mobile&quot;</span>,
        <span class="s2">&quot;paths&quot;</span>: <span class="o">[</span><span class="s2">&quot;/drive&quot;</span><span class="o">]</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">&quot;appID&quot;</span>: <span class="s2">&quot;3AKXFMV43J.io.cozy.banks.mobile&quot;</span>,
        <span class="s2">&quot;paths&quot;</span>: <span class="o">[</span><span class="s2">&quot;/banks&quot;</span><span class="o">]</span>
      <span class="o">}</span>,
      <span class="o">{</span>
        <span class="s2">&quot;appID&quot;</span>: <span class="s2">&quot;3AKXFMV43J.io.cozy.photos.mobile&quot;</span>,
        <span class="s2">&quot;paths&quot;</span>: <span class="o">[</span><span class="s2">&quot;/photos&quot;</span><span class="o">]</span>
      <span class="o">}</span>
    <span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<h2 id="budget-insight-web-auth">Budget-Insight web auth<a class="headerlink" href="#budget-insight-web-auth" title="Permanent link">&para;</a></h2>
<p>For some banks integration (Paypal, Orange Bank, Revolut…), Budget-Insight need
something similar to universal link because they expect a static domain for
fallback but there is a specific domain per Cozy instance.
In contrast with universal links, query parameters (provided by BI) are propagated
to the final fallback redirection.</p>
<p><code>http://&lt;registry-domain&gt;/biwebauth?fallback=http%3A%2F%2Fa.cozy%3Ffoo%3Dfoo&amp;bar=bar</code>
redirect to <code>http://a.cozy?foo=foo&amp;bar=bar</code>, merging fallback provided query
parameters (<code>foo=foo</code>) with webauth provided ones (<code>bar=bar</code>). </p>
<h2 id="community">Community<a class="headerlink" href="#community" title="Permanent link">&para;</a></h2>
<p>You can reach the Cozy Community by:</p>
<ul>
<li>Chatting with us on IRC <a href="http://webchat.freenode.net/?randomnick=1&amp;channels=%23cozycloud&amp;uio=d4">#cozycloud on Freenode</a></li>
<li>Posting on our <a href="https://forum.cozy.io/">Forum</a></li>
<li>Posting issues on the <a href="https://github.com/cozy/">Github repos</a></li>
<li>Say Hi! on <a href="https://twitter.com/cozycloud">Twitter</a></li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../cozy-stack/wellknown/" title="/.well-known - Well-known" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                /.well-known - Well-known
              </span>
            </div>
          </a>
        
        
          <a href="../cozy-banks/" title="README" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                README
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="../extra.js"></script>
      
    
  </body>
</html>